import{useId as e}from"@radix-ui/react-id";import*as t from"@radix-ui/react-visually-hidden";import{Slottable as o}from"@radix-ui/react-slot";import{Portal as n}from"@radix-ui/react-portal";import*as r from"@radix-ui/react-popper";import{createPopperScope as i}from"@radix-ui/react-popper";import{Primitive as a}from"@radix-ui/react-primitive";import{Presence as s}from"@radix-ui/react-presence";import{useRect as l}from"@radix-ui/react-use-rect";import{usePrevious as c}from"@radix-ui/react-use-previous";import{useLayoutEffect as p}from"@radix-ui/react-use-layout-effect";import{useEscapeKeydown as u}from"@radix-ui/react-use-escape-keydown";import{useControllableState as d}from"@radix-ui/react-use-controllable-state";import{createContextScope as m}from"@radix-ui/react-context";import{useComposedRefs as f}from"@radix-ui/react-compose-refs";import{composeEventHandlers as g}from"@radix-ui/primitive";import*as E from"react";import x from"@babel/runtime/helpers/esm/extends";function y(e){return{type:"machine.actions.assign",assign:e}}let T,C;const v=y(((e,t)=>{var o;return{...e,id:null!==(o=t.id)&&void 0!==o?o:e.id}})),_=function(e,{debug:t=!1,warnOnUnknownTransitions:o=!1}={}){let n=e.initial,r=e.context;const i=[],a=s=>{var l,c;const p=e.states[n],u=s.type,d=null===(l=e.on)||void 0===l?void 0:l[u],m=null===(c=p.on)||void 0===c?void 0:c[u],f=null!=d?d:m;if(void 0===f)o&&console.warn(`From state: "${n}", event "${u}" has no transition to any state`);else{const{target:o,actions:l=[],cond:c=(()=>!0)}=f,u=o?e.states[o]:{};if(c(r,s)){const e=(p.exit||[]).concat(l,u.entry||[]);r=function(e,t,o){let n=o;return null==e||e.forEach((e=>{"function"==typeof e?e(n,t,a):"machine.actions.assign"===e.type&&(n=e.assign(n,t))})),n}(e,s,r),o&&(n=o,t&&(console.group("event:",s),console.log("state:",n),console.log("context:",r),console.groupEnd()),i.forEach((e=>e({state:n,context:r}))))}}};return{subscribe:function(e){return i.push(e),()=>{i.splice(i.indexOf(e),1)}},send:a,getContext:function(){return r}}}({initial:"closed",context:{id:null,delayed:!1},on:{FOCUS:{target:"open"}},states:{closed:{entry:[y((e=>({...e,id:null})))],on:{OPEN:{target:"opening"}}},opening:{entry:[(e,t,o)=>{const n=t.delayDuration,r=()=>o({type:"DELAY_TIMER_END"});void 0===n?r():T=window.setTimeout(r,n)},v,y((e=>({...e,delayed:!0})))],exit:[()=>clearTimeout(T)],on:{DELAY_TIMER_END:{target:"open"},CLOSE:{target:"closed"}}},open:{entry:[v],exit:[y((e=>({...e,delayed:!1})))],on:{OPEN:{target:"open"},CLOSE:{target:"closing",cond:(e,t)=>e.id===t.id}}},closing:{entry:[(e,t,o)=>{var n;const r=null!==(n=t.skipDelayDuration)&&void 0!==n?n:300;C=window.setTimeout((()=>o({type:"SKIP_DELAY_TIMER_END"})),r)}],exit:[()=>clearTimeout(C)],on:{OPEN:{target:"open"},SKIP_DELAY_TIMER_END:{target:"closed"}}}}}),[b,D]=m("Tooltip",[i]);export{D as createTooltipScope};const w=i(),[h,O]=b("Tooltip");export const Tooltip=t=>{const{__scopeTooltip:o,children:n,open:i,defaultOpen:a=!1,onOpenChange:s,delayDuration:l=700,skipDelayDuration:c=300}=t,u=w(o),[m,f]=E.useState(null),g=e(),[x=!1,y]=d({prop:i,defaultProp:a,onChange:s}),[T,C]=E.useState(i?"instant-open":"closed");E.useEffect((()=>_.subscribe((({state:e,context:t})=>{"open"===e&&t.id===g?y(!0):y(!1)}))),[g,y]),E.useEffect((()=>_.subscribe((({state:e,context:t})=>{t.id===g?C("open"===e?t.delayed?"delayed-open":"instant-open":"closed"):C("closed")}))),[g]);const v=E.useCallback((()=>_.send({type:"FOCUS",id:g})),[g]),b=E.useCallback((()=>_.send({type:"OPEN",id:g,delayDuration:l})),[g,l]),D=E.useCallback((()=>_.send({type:"CLOSE",id:g,skipDelayDuration:c})),[c,g]);return E.useEffect((()=>()=>D()),[D]),p((()=>{!0===i&&_.send({type:"OPEN",id:g})}),[g,i]),/*#__PURE__*/E.createElement(r.Root,u,/*#__PURE__*/E.createElement(h,{scope:o,contentId:g,open:x,stateAttribute:T,trigger:m,onTriggerChange:f,onFocus:v,onOpen:b,onClose:D},n))};/*#__PURE__*/export const TooltipTrigger=/*#__PURE__*/E.forwardRef(((e,t)=>{const{__scopeTooltip:o,...n}=e,i=O("TooltipTrigger",o),s=w(o),l=f(t,i.onTriggerChange);/*#__PURE__*/return E.createElement(r.Anchor,x({asChild:!0},s),/*#__PURE__*/E.createElement(a.button,x({type:"button","aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},n,{ref:l,onMouseEnter:g(e.onMouseEnter,i.onOpen),onMouseLeave:g(e.onMouseLeave,i.onClose),onMouseDown:g(e.onMouseDown,i.onClose),onFocus:g(e.onFocus,i.onFocus),onBlur:g(e.onBlur,i.onClose),onKeyDown:g(e.onKeyDown,(e=>{"Enter"!==e.key&&" "!==e.key||i.onClose()}))})))}));/*#__PURE__*/export const TooltipContent=/*#__PURE__*/E.forwardRef(((e,t)=>{const{forceMount:o,...n}=e,r=O("TooltipContent",e.__scopeTooltip);/*#__PURE__*/return E.createElement(s,{present:o||r.open},/*#__PURE__*/E.createElement(A,x({ref:t},n)))}));const A=/*#__PURE__*/E.forwardRef(((e,i)=>{const{__scopeTooltip:a,children:s,"aria-label":l,portalled:c=!0,...p}=e,d=O("TooltipContent",a),m=w(a),f=c?n:E.Fragment;return u((()=>d.onClose())),/*#__PURE__*/E.createElement(f,null,/*#__PURE__*/E.createElement(M,{__scopeTooltip:a}),/*#__PURE__*/E.createElement(r.Content,x({"data-state":d.stateAttribute},m,p,{ref:i,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),/*#__PURE__*/E.createElement(o,null,s),/*#__PURE__*/E.createElement(t.Root,{id:d.contentId,role:"tooltip"},l||s)))}));/*#__PURE__*/export const TooltipArrow=/*#__PURE__*/E.forwardRef(((e,t)=>{const{__scopeTooltip:o,...n}=e,i=w(o);/*#__PURE__*/return E.createElement(r.Arrow,x({},i,n,{ref:t}))}));/*#__PURE__*/function M(e){const{__scopeTooltip:t}=e,o=O("CheckTriggerMoved",t),n=l(o.trigger),r=null==n?void 0:n.left,i=c(r),a=null==n?void 0:n.top,s=c(a),p=o.onClose;return E.useEffect((()=>{(void 0!==i&&i!==r||void 0!==s&&s!==a)&&p()}),[p,i,s,r,a]),null}export const Root=Tooltip;export const Trigger=TooltipTrigger;export const Content=TooltipContent;export const Arrow=TooltipArrow;
//# sourceMappingURL=index.module.js.map
