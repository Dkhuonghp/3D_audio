{"ast":null,"code":"var _jsxFileName = \"/Users/khuong/Desktop/2022/ReactJS/r3f-audio-analyser-forked/src/Effects.js\",\n    _s = $RefreshSig$();\n\nimport { EffectComposer, SSAO, Vignette, Noise, Bloom, Sepia, DotScreen, Pixelation, ChromaticAberration, ToneMapping, Scanline } from \"@react-three/postprocessing\";\nimport { BlendFunction, KernelSize, Resizer } from \"postprocessing\";\nimport { HalfFloatType } from \"three\";\nimport { useThree, useFrame } from \"@react-three/fiber\";\nimport { useControls } from \"leva\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Effects() {\n  _s();\n\n  const size = useThree(s => s.size);\n  const dpr = useThree(s => s.viewport.dpr);\n  useControls(\"post\", {}, {\n    collapsed: true\n  });\n  const bloomProps = useControls(\"post.bloom\", {\n    intensity: {\n      value: 0,\n      min: 0,\n      max: 2\n    },\n    luminanceThreshold: {\n      value: 0.4,\n      min: 0,\n      max: 1,\n      label: \"threshold\"\n    },\n    luminanceSmoothing: {\n      value: 0.4,\n      min: 0,\n      max: 1,\n      label: \"smoothing\"\n    },\n    kernelSize: {\n      value: KernelSize.VERY_LARGE,\n      options: [KernelSize.HUGE, KernelSize.VERY_LARGE, KernelSize.LARGE, KernelSize.MEDIUM, KernelSize.SMALL, KernelSize.VERY_SMALL],\n      label: \"bloomSize\"\n    }\n  }, {\n    collapsed: true\n  });\n  const noiseProps = useControls(\"post.noise\", {\n    opacity: {\n      value: 0.05,\n      min: 0,\n      max: 0.3,\n      step: 0.01\n    },\n    premultiply: {\n      value: false\n    }\n  }, {\n    collapsed: true\n  });\n  const sephiaProps = useControls(\"post.sephia\", {\n    intensity: {\n      value: 0,\n      min: 0,\n      max: 1,\n      step: 0.01\n    }\n  }, {\n    collapsed: true\n  });\n  const caProps = useControls(\"post.chromaticAberration\", {\n    offset: {\n      value: {\n        x: 0,\n        y: 0\n      },\n      min: -1,\n      max: 1,\n      step: 0.01,\n      joystick: true\n    }\n  }, {\n    collapsed: true\n  });\n  const pixelationProps = useControls(\"post.pixelation\", {\n    enable: {\n      value: false\n    },\n    granularity: {\n      value: 5,\n      min: 0,\n      max: 30,\n      step: 1\n    }\n  }, {\n    collapsed: true\n  });\n  const vignetteProps = useControls(\"post.vignette\", {\n    enable: {\n      value: true\n    },\n    darkness: {\n      value: 0.5,\n      min: 0,\n      max: 1,\n      step: 0.01\n    },\n    eskil: false,\n    offset: {\n      value: 0.5,\n      min: 0,\n      max: 1,\n      step: 0.01\n    }\n  }, {\n    collapsed: true\n  });\n  const scanlineProps = useControls(\"post.scanline\", {\n    enable: {\n      value: true\n    },\n    density: {\n      value: 0.9,\n      min: 0,\n      max: 2,\n      step: 0.01\n    },\n    opacity: {\n      value: 0.02,\n      min: 0,\n      max: 1,\n      step: 0.01\n    }\n  }, {\n    collapsed: true\n  });\n  return (\n    /*#__PURE__*/\n    // HalfFloatType drops 5 fps but removed gradient banding\n    // re-mount when fps changes to change buffer size\n    _jsxDEV(EffectComposer, {\n      frameBufferType: HalfFloatType,\n      children: [bloomProps.intensity && /*#__PURE__*/_jsxDEV(Bloom, { ...bloomProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 32\n      }, this), noiseProps.opacity && /*#__PURE__*/_jsxDEV(Noise, { ...noiseProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), sephiaProps.intensity && /*#__PURE__*/_jsxDEV(Sepia, { ...sephiaProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }, this), caProps.offset.x && caProps.offset.y && /*#__PURE__*/_jsxDEV(ChromaticAberration, {\n        blendFunction: BlendFunction.NORMAL // blend mode\n        ,\n        offset: [caProps.offset.x * 0.1, caProps.offset.y * 0.1]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), pixelationProps.enable && /*#__PURE__*/_jsxDEV(Pixelation, { ...pixelationProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 34\n      }, this), vignetteProps.enable && /*#__PURE__*/_jsxDEV(Vignette, { ...vignetteProps,\n        blendFunction: BlendFunction.NORMAL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), scanlineProps.enable && /*#__PURE__*/_jsxDEV(Scanline, {\n        blendFunction: BlendFunction.OVERLAY // blend mode\n        ,\n        ...scanlineProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, dpr, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }, this)\n  );\n}\n\n_s(Effects, \"oZ6OQ5siS9Q1tLA7Dvc//g2cxYc=\", false, function () {\n  return [useThree, useThree, useControls, useControls, useControls, useControls, useControls, useControls, useControls, useControls];\n});\n\n_c = Effects;\n\nvar _c;\n\n$RefreshReg$(_c, \"Effects\");","map":{"version":3,"names":["EffectComposer","SSAO","Vignette","Noise","Bloom","Sepia","DotScreen","Pixelation","ChromaticAberration","ToneMapping","Scanline","BlendFunction","KernelSize","Resizer","HalfFloatType","useThree","useFrame","useControls","Effects","size","s","dpr","viewport","collapsed","bloomProps","intensity","value","min","max","luminanceThreshold","label","luminanceSmoothing","kernelSize","VERY_LARGE","options","HUGE","LARGE","MEDIUM","SMALL","VERY_SMALL","noiseProps","opacity","step","premultiply","sephiaProps","caProps","offset","x","y","joystick","pixelationProps","enable","granularity","vignetteProps","darkness","eskil","scanlineProps","density","NORMAL","OVERLAY"],"sources":["/Users/khuong/Desktop/2022/ReactJS/r3f-audio-analyser-forked/src/Effects.js"],"sourcesContent":["import {\n  EffectComposer,\n  SSAO,\n  Vignette,\n  Noise,\n  Bloom,\n  Sepia,\n  DotScreen,\n  Pixelation,\n  ChromaticAberration,\n  ToneMapping,\n  Scanline\n} from \"@react-three/postprocessing\";\nimport { BlendFunction, KernelSize, Resizer } from \"postprocessing\";\nimport { HalfFloatType } from \"three\";\nimport { useThree, useFrame } from \"@react-three/fiber\";\nimport { useControls } from \"leva\";\n\nexport default function Effects() {\n  const size = useThree((s) => s.size);\n  const dpr = useThree((s) => s.viewport.dpr);\n\n  useControls(\"post\", {}, { collapsed: true });\n  const bloomProps = useControls(\n    \"post.bloom\",\n    {\n      intensity: { value: 0, min: 0, max: 2 },\n      luminanceThreshold: { value: 0.4, min: 0, max: 1, label: \"threshold\" },\n      luminanceSmoothing: { value: 0.4, min: 0, max: 1, label: \"smoothing\" },\n      kernelSize: {\n        value: KernelSize.VERY_LARGE,\n        options: [\n          KernelSize.HUGE,\n          KernelSize.VERY_LARGE,\n          KernelSize.LARGE,\n          KernelSize.MEDIUM,\n          KernelSize.SMALL,\n          KernelSize.VERY_SMALL\n        ],\n        label: \"bloomSize\"\n      }\n    },\n    { collapsed: true }\n  );\n  const noiseProps = useControls(\n    \"post.noise\",\n    {\n      opacity: { value: 0.05, min: 0, max: 0.3, step: 0.01 },\n      premultiply: { value: false }\n    },\n    { collapsed: true }\n  );\n  const sephiaProps = useControls(\n    \"post.sephia\",\n    {\n      intensity: { value: 0, min: 0, max: 1, step: 0.01 }\n    },\n    { collapsed: true }\n  );\n  const caProps = useControls(\n    \"post.chromaticAberration\",\n    {\n      offset: {\n        value: { x: 0, y: 0 },\n        min: -1,\n        max: 1,\n        step: 0.01,\n        joystick: true\n      }\n    },\n    { collapsed: true }\n  );\n\n  const pixelationProps = useControls(\n    \"post.pixelation\",\n    {\n      enable: {\n        value: false\n      },\n      granularity: { value: 5, min: 0, max: 30, step: 1 }\n    },\n    { collapsed: true }\n  );\n  const vignetteProps = useControls(\n    \"post.vignette\",\n    {\n      enable: {\n        value: true\n      },\n      darkness: { value: 0.5, min: 0, max: 1, step: 0.01 },\n      eskil: false,\n      offset: { value: 0.5, min: 0, max: 1, step: 0.01 }\n    },\n    { collapsed: true }\n  );\n  const scanlineProps = useControls(\n    \"post.scanline\",\n    {\n      enable: {\n        value: true\n      },\n      density: { value: 0.9, min: 0, max: 2, step: 0.01 },\n      opacity: { value: 0.02, min: 0, max: 1, step: 0.01 }\n    },\n    { collapsed: true }\n  );\n  return (\n    // HalfFloatType drops 5 fps but removed gradient banding\n    // re-mount when fps changes to change buffer size\n    <EffectComposer key={dpr} frameBufferType={HalfFloatType}>\n      {bloomProps.intensity && <Bloom {...bloomProps} />}\n      {noiseProps.opacity && (\n        <Noise\n          {...noiseProps}\n          // blendFunction={BlendFunction.ADD} // blend mode\n        />\n      )}\n      {sephiaProps.intensity && <Sepia {...sephiaProps} />}\n\n      {caProps.offset.x && caProps.offset.y && (\n        <ChromaticAberration\n          blendFunction={BlendFunction.NORMAL} // blend mode\n          offset={[caProps.offset.x * 0.1, caProps.offset.y * 0.1]}\n        />\n      )}\n      {pixelationProps.enable && <Pixelation {...pixelationProps} />}\n      {vignetteProps.enable && (\n        <Vignette {...vignetteProps} blendFunction={BlendFunction.NORMAL} />\n      )}\n      {scanlineProps.enable && (\n        <Scanline\n          blendFunction={BlendFunction.OVERLAY} // blend mode\n          {...scanlineProps}\n        />\n      )}\n    </EffectComposer>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}