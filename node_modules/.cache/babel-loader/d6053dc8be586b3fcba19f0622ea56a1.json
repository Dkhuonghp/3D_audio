{"ast":null,"code":"var Rule = function Rule(name, fn, args, modifiers) {\n  this.name = name;\n  this.fn = fn;\n  this.args = args;\n  this.modifiers = modifiers;\n};\n\nRule.prototype._test = function _test(value) {\n  var fn = this.fn;\n\n  try {\n    testAux(this.modifiers.slice(), fn)(value);\n  } catch (ex) {\n    fn = function () {\n      return false;\n    };\n  }\n\n  try {\n    return testAux(this.modifiers.slice(), fn)(value);\n  } catch (ex$1) {\n    return false;\n  }\n};\n\nRule.prototype._check = function _check(value) {\n  try {\n    testAux(this.modifiers.slice(), this.fn)(value);\n  } catch (ex) {\n    if (testAux(this.modifiers.slice(), function (it) {\n      return it;\n    })(false)) {\n      return;\n    }\n  }\n\n  if (!testAux(this.modifiers.slice(), this.fn)(value)) {\n    throw null;\n  }\n};\n\nRule.prototype._testAsync = function _testAsync(value) {\n  var this$1 = this;\n  return new Promise(function (resolve, reject) {\n    testAsyncAux(this$1.modifiers.slice(), this$1.fn)(value).then(function (valid) {\n      if (valid) {\n        resolve(value);\n      } else {\n        reject(null);\n      }\n    }).catch(function (ex) {\n      return reject(ex);\n    });\n  });\n};\n\nfunction pickFn(fn, variant) {\n  if (variant === void 0) variant = 'simple';\n  return typeof fn === 'object' ? fn[variant] : fn;\n}\n\nfunction testAux(modifiers, fn) {\n  if (modifiers.length) {\n    var modifier = modifiers.shift();\n    var nextFn = testAux(modifiers, fn);\n    return modifier.perform(nextFn);\n  } else {\n    return pickFn(fn);\n  }\n}\n\nfunction testAsyncAux(modifiers, fn) {\n  if (modifiers.length) {\n    var modifier = modifiers.shift();\n    var nextFn = testAsyncAux(modifiers, fn);\n    return modifier.performAsync(nextFn);\n  } else {\n    return function (value) {\n      return Promise.resolve(pickFn(fn, 'async')(value));\n    };\n  }\n}\n\nvar Modifier = function Modifier(name, perform, performAsync) {\n  this.name = name;\n  this.perform = perform;\n  this.performAsync = performAsync;\n};\n\nvar ValidationError = /*@__PURE__*/function (Error) {\n  function ValidationError(rule, value, cause, target) {\n    var remaining = [],\n        len = arguments.length - 4;\n\n    while (len-- > 0) remaining[len] = arguments[len + 4];\n\n    Error.call(this, remaining);\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ValidationError);\n    }\n\n    this.rule = rule;\n    this.value = value;\n    this.cause = cause;\n    this.target = target;\n  }\n\n  if (Error) ValidationError.__proto__ = Error;\n  ValidationError.prototype = Object.create(Error && Error.prototype);\n  ValidationError.prototype.constructor = ValidationError;\n  return ValidationError;\n}(Error);\n\nvar Context = function Context(chain, nextRuleModifiers) {\n  if (chain === void 0) chain = [];\n  if (nextRuleModifiers === void 0) nextRuleModifiers = [];\n  this.chain = chain;\n  this.nextRuleModifiers = nextRuleModifiers;\n};\n\nContext.prototype._applyRule = function _applyRule(ruleFn, name) {\n  var this$1 = this;\n  return function () {\n    var args = [],\n        len = arguments.length;\n\n    while (len--) args[len] = arguments[len];\n\n    this$1.chain.push(new Rule(name, ruleFn.apply(this$1, args), args, this$1.nextRuleModifiers));\n    this$1.nextRuleModifiers = [];\n    return this$1;\n  };\n};\n\nContext.prototype._applyModifier = function _applyModifier(modifier, name) {\n  this.nextRuleModifiers.push(new Modifier(name, modifier.simple, modifier.async));\n  return this;\n};\n\nContext.prototype._clone = function _clone() {\n  return new Context(this.chain.slice(), this.nextRuleModifiers.slice());\n};\n\nContext.prototype.test = function test(value) {\n  return this.chain.every(function (rule) {\n    return rule._test(value);\n  });\n};\n\nContext.prototype.testAll = function testAll(value) {\n  var err = [];\n  this.chain.forEach(function (rule) {\n    try {\n      rule._check(value);\n    } catch (ex) {\n      err.push(new ValidationError(rule, value, ex));\n    }\n  });\n  return err;\n};\n\nContext.prototype.check = function check(value) {\n  this.chain.forEach(function (rule) {\n    try {\n      rule._check(value);\n    } catch (ex) {\n      throw new ValidationError(rule, value, ex);\n    }\n  });\n};\n\nContext.prototype.testAsync = function testAsync(value) {\n  var this$1 = this;\n  return new Promise(function (resolve, reject) {\n    executeAsyncRules(value, this$1.chain.slice(), resolve, reject);\n  });\n};\n\nfunction executeAsyncRules(value, rules, resolve, reject) {\n  if (rules.length) {\n    var rule = rules.shift();\n\n    rule._testAsync(value).then(function () {\n      executeAsyncRules(value, rules, resolve, reject);\n    }, function (cause) {\n      reject(new ValidationError(rule, value, cause));\n    });\n  } else {\n    resolve(value);\n  }\n}\n\nfunction v8n() {\n  return typeof Proxy !== undefined ? proxyContext(new Context()) : proxylessContext(new Context());\n} // Custom rules\n\n\nvar customRules = {};\n\nv8n.extend = function (newRules) {\n  Object.assign(customRules, newRules);\n};\n\nv8n.clearCustomRules = function () {\n  customRules = {};\n};\n\nfunction proxyContext(context) {\n  return new Proxy(context, {\n    get: function get(obj, prop) {\n      if (prop in obj) {\n        return obj[prop];\n      }\n\n      var newContext = proxyContext(context._clone());\n\n      if (prop in availableModifiers) {\n        return newContext._applyModifier(availableModifiers[prop], prop);\n      }\n\n      if (prop in customRules) {\n        return newContext._applyRule(customRules[prop], prop);\n      }\n\n      if (prop in availableRules) {\n        return newContext._applyRule(availableRules[prop], prop);\n      }\n    }\n  });\n}\n\nfunction proxylessContext(context) {\n  var addRuleSet = function (ruleSet, targetContext) {\n    Object.keys(ruleSet).forEach(function (prop) {\n      targetContext[prop] = function () {\n        var args = [],\n            len = arguments.length;\n\n        while (len--) args[len] = arguments[len];\n\n        var newContext = proxylessContext(targetContext._clone());\n\n        var contextWithRuleApplied = newContext._applyRule(ruleSet[prop], prop).apply(void 0, args);\n\n        return contextWithRuleApplied;\n      };\n    });\n    return targetContext;\n  };\n\n  var contextWithAvailableRules = addRuleSet(availableRules, context);\n  var contextWithAllRules = addRuleSet(customRules, contextWithAvailableRules);\n  Object.keys(availableModifiers).forEach(function (prop) {\n    Object.defineProperty(contextWithAllRules, prop, {\n      get: function () {\n        var newContext = proxylessContext(contextWithAllRules._clone());\n        return newContext._applyModifier(availableModifiers[prop], prop);\n      }\n    });\n  });\n  return contextWithAllRules;\n}\n\nvar availableModifiers = {\n  not: {\n    simple: function (fn) {\n      return function (value) {\n        return !fn(value);\n      };\n    },\n    async: function (fn) {\n      return function (value) {\n        return Promise.resolve(fn(value)).then(function (result) {\n          return !result;\n        }).catch(function () {\n          return true;\n        });\n      };\n    }\n  },\n  some: {\n    simple: function (fn) {\n      return function (value) {\n        return split(value).some(function (item) {\n          try {\n            return fn(item);\n          } catch (ex) {\n            return false;\n          }\n        });\n      };\n    },\n    async: function (fn) {\n      return function (value) {\n        return Promise.all(split(value).map(function (item) {\n          try {\n            return fn(item).catch(function () {\n              return false;\n            });\n          } catch (ex) {\n            return false;\n          }\n        })).then(function (result) {\n          return result.some(Boolean);\n        });\n      };\n    }\n  },\n  every: {\n    simple: function (fn) {\n      return function (value) {\n        return value !== false && split(value).every(fn);\n      };\n    },\n    async: function (fn) {\n      return function (value) {\n        return Promise.all(split(value).map(fn)).then(function (result) {\n          return result.every(Boolean);\n        });\n      };\n    }\n  }\n};\n\nfunction split(value) {\n  if (typeof value === 'string') {\n    return value.split('');\n  }\n\n  return value;\n}\n\nvar availableRules = {\n  // Value\n  equal: function (expected) {\n    return function (value) {\n      return value == expected;\n    };\n  },\n  exact: function (expected) {\n    return function (value) {\n      return value === expected;\n    };\n  },\n  // Types\n  number: function (allowInfinite) {\n    if (allowInfinite === void 0) allowInfinite = true;\n    return function (value) {\n      return typeof value === 'number' && (allowInfinite || isFinite(value));\n    };\n  },\n  integer: function () {\n    return function (value) {\n      var isInteger = Number.isInteger || isIntegerPolyfill;\n      return isInteger(value);\n    };\n  },\n  numeric: function () {\n    return function (value) {\n      return !isNaN(parseFloat(value)) && isFinite(value);\n    };\n  },\n  string: function () {\n    return testType('string');\n  },\n  boolean: function () {\n    return testType('boolean');\n  },\n  undefined: function () {\n    return testType('undefined');\n  },\n  null: function () {\n    return testType('null');\n  },\n  array: function () {\n    return testType('array');\n  },\n  object: function () {\n    return testType('object');\n  },\n  instanceOf: function (instance) {\n    return function (value) {\n      return value instanceof instance;\n    };\n  },\n  // Pattern\n  pattern: function (expected) {\n    return function (value) {\n      return expected.test(value);\n    };\n  },\n  lowercase: function () {\n    return function (value) {\n      return /^([a-z]+\\s*)+$/.test(value);\n    };\n  },\n  uppercase: function () {\n    return function (value) {\n      return /^([A-Z]+\\s*)+$/.test(value);\n    };\n  },\n  vowel: function () {\n    return function (value) {\n      return /^[aeiou]+$/i.test(value);\n    };\n  },\n  consonant: function () {\n    return function (value) {\n      return /^(?=[^aeiou])([a-z]+)$/i.test(value);\n    };\n  },\n  // Value at\n  first: function (expected) {\n    return function (value) {\n      return value[0] == expected;\n    };\n  },\n  last: function (expected) {\n    return function (value) {\n      return value[value.length - 1] == expected;\n    };\n  },\n  // Length\n  empty: function () {\n    return function (value) {\n      return value.length === 0;\n    };\n  },\n  length: function (min, max) {\n    return function (value) {\n      return value.length >= min && value.length <= (max || min);\n    };\n  },\n  minLength: function (min) {\n    return function (value) {\n      return value.length >= min;\n    };\n  },\n  maxLength: function (max) {\n    return function (value) {\n      return value.length <= max;\n    };\n  },\n  // Range\n  negative: function () {\n    return function (value) {\n      return value < 0;\n    };\n  },\n  positive: function () {\n    return function (value) {\n      return value >= 0;\n    };\n  },\n  between: function (a, b) {\n    return function (value) {\n      return value >= a && value <= b;\n    };\n  },\n  range: function (a, b) {\n    return function (value) {\n      return value >= a && value <= b;\n    };\n  },\n  lessThan: function (n) {\n    return function (value) {\n      return value < n;\n    };\n  },\n  lessThanOrEqual: function (n) {\n    return function (value) {\n      return value <= n;\n    };\n  },\n  greaterThan: function (n) {\n    return function (value) {\n      return value > n;\n    };\n  },\n  greaterThanOrEqual: function (n) {\n    return function (value) {\n      return value >= n;\n    };\n  },\n  // Divisible\n  even: function () {\n    return function (value) {\n      return value % 2 === 0;\n    };\n  },\n  odd: function () {\n    return function (value) {\n      return value % 2 !== 0;\n    };\n  },\n  includes: function (expected) {\n    return function (value) {\n      return ~value.indexOf(expected);\n    };\n  },\n  schema: function (schema) {\n    return testSchema(schema);\n  },\n  // branching\n  passesAnyOf: function () {\n    var validations = [],\n        len = arguments.length;\n\n    while (len--) validations[len] = arguments[len];\n\n    return function (value) {\n      return validations.some(function (validation) {\n        return validation.test(value);\n      });\n    };\n  },\n  optional: function (validation, considerTrimmedEmptyString) {\n    if (considerTrimmedEmptyString === void 0) considerTrimmedEmptyString = false;\n    return function (value) {\n      if (considerTrimmedEmptyString && typeof value === 'string' && value.trim() === '') {\n        return true;\n      }\n\n      if (value !== undefined && value !== null) {\n        validation.check(value);\n      }\n\n      return true;\n    };\n  }\n};\n\nfunction testType(expected) {\n  return function (value) {\n    return Array.isArray(value) && expected === 'array' || value === null && expected === 'null' || typeof value === expected;\n  };\n}\n\nfunction isIntegerPolyfill(value) {\n  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\n\nfunction testSchema(schema) {\n  return {\n    simple: function (value) {\n      var causes = [];\n      Object.keys(schema).forEach(function (key) {\n        var nestedValidation = schema[key];\n\n        try {\n          nestedValidation.check((value || {})[key]);\n        } catch (ex) {\n          ex.target = key;\n          causes.push(ex);\n        }\n      });\n\n      if (causes.length > 0) {\n        throw causes;\n      }\n\n      return true;\n    },\n    async: function (value) {\n      var causes = [];\n      var nested = Object.keys(schema).map(function (key) {\n        var nestedValidation = schema[key];\n        return nestedValidation.testAsync((value || {})[key]).catch(function (ex) {\n          ex.target = key;\n          causes.push(ex);\n        });\n      });\n      return Promise.all(nested).then(function () {\n        if (causes.length > 0) {\n          throw causes;\n        }\n\n        return true;\n      });\n    }\n  };\n}\n\nexport default v8n;","map":{"version":3,"names":["Rule","name","fn","args","modifiers","prototype","_test","value","testAux","slice","ex","ex$1","_check","it","_testAsync","this$1","Promise","resolve","reject","testAsyncAux","then","valid","catch","pickFn","variant","length","modifier","shift","nextFn","perform","performAsync","Modifier","ValidationError","Error","rule","cause","target","remaining","len","arguments","call","captureStackTrace","__proto__","Object","create","constructor","Context","chain","nextRuleModifiers","_applyRule","ruleFn","push","apply","_applyModifier","simple","async","_clone","test","every","testAll","err","forEach","check","testAsync","executeAsyncRules","rules","v8n","Proxy","undefined","proxyContext","proxylessContext","customRules","extend","newRules","assign","clearCustomRules","context","get","obj","prop","newContext","availableModifiers","availableRules","addRuleSet","ruleSet","targetContext","keys","contextWithRuleApplied","contextWithAvailableRules","contextWithAllRules","defineProperty","not","result","some","split","item","all","map","Boolean","equal","expected","exact","number","allowInfinite","isFinite","integer","isInteger","Number","isIntegerPolyfill","numeric","isNaN","parseFloat","string","testType","boolean","null","array","object","instanceOf","instance","pattern","lowercase","uppercase","vowel","consonant","first","last","empty","min","max","minLength","maxLength","negative","positive","between","a","b","range","lessThan","n","lessThanOrEqual","greaterThan","greaterThanOrEqual","even","odd","includes","indexOf","schema","testSchema","passesAnyOf","validations","validation","optional","considerTrimmedEmptyString","trim","Array","isArray","Math","floor","causes","key","nestedValidation","nested"],"sources":["/Users/khuong/Desktop/2022/ReactJS/r3f-audio-analyser-forked/node_modules/v8n/dist/v8n.esm.js"],"sourcesContent":["var Rule = function Rule(name, fn, args, modifiers) {\n  this.name = name;\n  this.fn = fn;\n  this.args = args;\n  this.modifiers = modifiers;\n};\n\nRule.prototype._test = function _test (value) {\n  var fn = this.fn;\n\n  try {\n    testAux(this.modifiers.slice(), fn)(value);\n  } catch (ex) {\n    fn = function () { return false; };\n  }\n\n  try {\n    return testAux(this.modifiers.slice(), fn)(value);\n  } catch (ex$1) {\n    return false;\n  }\n};\n\nRule.prototype._check = function _check (value) {\n  try {\n    testAux(this.modifiers.slice(), this.fn)(value);\n  } catch (ex) {\n    if (testAux(this.modifiers.slice(), function (it) { return it; })(false)) {\n      return;\n    }\n  }\n\n  if (!testAux(this.modifiers.slice(), this.fn)(value)) {\n    throw null;\n  }\n};\n\nRule.prototype._testAsync = function _testAsync (value) {\n    var this$1 = this;\n\n  return new Promise(function (resolve, reject) {\n    testAsyncAux(\n      this$1.modifiers.slice(),\n      this$1.fn\n    )(value)\n      .then(function (valid) {\n        if (valid) {\n          resolve(value);\n        } else {\n          reject(null);\n        }\n      })\n      .catch(function (ex) { return reject(ex); });\n  });\n};\n\nfunction pickFn(fn, variant) {\n  if ( variant === void 0 ) variant = 'simple';\n\n  return typeof fn === 'object' ? fn[variant] : fn;\n}\n\nfunction testAux(modifiers, fn) {\n  if (modifiers.length) {\n    var modifier = modifiers.shift();\n    var nextFn = testAux(modifiers, fn);\n    return modifier.perform(nextFn);\n  } else {\n    return pickFn(fn);\n  }\n}\n\nfunction testAsyncAux(modifiers, fn) {\n  if (modifiers.length) {\n    var modifier = modifiers.shift();\n    var nextFn = testAsyncAux(modifiers, fn);\n    return modifier.performAsync(nextFn);\n  } else {\n    return function (value) { return Promise.resolve(pickFn(fn, 'async')(value)); };\n  }\n}\n\nvar Modifier = function Modifier(name, perform, performAsync) {\n  this.name = name;\n  this.perform = perform;\n  this.performAsync = performAsync;\n};\n\nvar ValidationError = /*@__PURE__*/(function (Error) {\n  function ValidationError(rule, value, cause, target) {\n    var remaining = [], len = arguments.length - 4;\n    while ( len-- > 0 ) remaining[ len ] = arguments[ len + 4 ];\n\n    Error.call(this, remaining);\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ValidationError);\n    }\n    this.rule = rule;\n    this.value = value;\n    this.cause = cause;\n    this.target = target;\n  }\n\n  if ( Error ) ValidationError.__proto__ = Error;\n  ValidationError.prototype = Object.create( Error && Error.prototype );\n  ValidationError.prototype.constructor = ValidationError;\n\n  return ValidationError;\n}(Error));\n\nvar Context = function Context(chain, nextRuleModifiers) {\n  if ( chain === void 0 ) chain = [];\n  if ( nextRuleModifiers === void 0 ) nextRuleModifiers = [];\n\n  this.chain = chain;\n  this.nextRuleModifiers = nextRuleModifiers;\n};\n\nContext.prototype._applyRule = function _applyRule (ruleFn, name) {\n    var this$1 = this;\n\n  return function () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n    this$1.chain.push(\n      new Rule(name, ruleFn.apply(this$1, args), args, this$1.nextRuleModifiers)\n    );\n    this$1.nextRuleModifiers = [];\n    return this$1;\n  };\n};\n\nContext.prototype._applyModifier = function _applyModifier (modifier, name) {\n  this.nextRuleModifiers.push(\n    new Modifier(name, modifier.simple, modifier.async)\n  );\n  return this;\n};\n\nContext.prototype._clone = function _clone () {\n  return new Context(this.chain.slice(), this.nextRuleModifiers.slice());\n};\n\nContext.prototype.test = function test (value) {\n  return this.chain.every(function (rule) { return rule._test(value); });\n};\n\nContext.prototype.testAll = function testAll (value) {\n  var err = [];\n  this.chain.forEach(function (rule) {\n    try {\n      rule._check(value);\n    } catch (ex) {\n      err.push(new ValidationError(rule, value, ex));\n    }\n  });\n  return err;\n};\n\nContext.prototype.check = function check (value) {\n  this.chain.forEach(function (rule) {\n    try {\n      rule._check(value);\n    } catch (ex) {\n      throw new ValidationError(rule, value, ex);\n    }\n  });\n};\n\nContext.prototype.testAsync = function testAsync (value) {\n    var this$1 = this;\n\n  return new Promise(function (resolve, reject) {\n    executeAsyncRules(value, this$1.chain.slice(), resolve, reject);\n  });\n};\n\nfunction executeAsyncRules(value, rules, resolve, reject) {\n  if (rules.length) {\n    var rule = rules.shift();\n    rule._testAsync(value).then(\n      function () {\n        executeAsyncRules(value, rules, resolve, reject);\n      },\n      function (cause) {\n        reject(new ValidationError(rule, value, cause));\n      }\n    );\n  } else {\n    resolve(value);\n  }\n}\n\nfunction v8n() {\n  return typeof Proxy !== undefined\n    ? proxyContext(new Context())\n    : proxylessContext(new Context());\n}\n\n// Custom rules\nvar customRules = {};\n\nv8n.extend = function(newRules) {\n  Object.assign(customRules, newRules);\n};\n\nv8n.clearCustomRules = function() {\n  customRules = {};\n};\n\nfunction proxyContext(context) {\n  return new Proxy(context, {\n    get: function get(obj, prop) {\n      if (prop in obj) {\n        return obj[prop];\n      }\n\n      var newContext = proxyContext(context._clone());\n\n      if (prop in availableModifiers) {\n        return newContext._applyModifier(availableModifiers[prop], prop);\n      }\n      if (prop in customRules) {\n        return newContext._applyRule(customRules[prop], prop);\n      }\n      if (prop in availableRules) {\n        return newContext._applyRule(availableRules[prop], prop);\n      }\n    },\n  });\n}\n\nfunction proxylessContext(context) {\n  var addRuleSet = function (ruleSet, targetContext) {\n    Object.keys(ruleSet).forEach(function (prop) {\n      targetContext[prop] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var newContext = proxylessContext(targetContext._clone());\n        var contextWithRuleApplied = newContext._applyRule(\n          ruleSet[prop],\n          prop\n        ).apply(void 0, args);\n        return contextWithRuleApplied;\n      };\n    });\n    return targetContext;\n  };\n\n  var contextWithAvailableRules = addRuleSet(availableRules, context);\n  var contextWithAllRules = addRuleSet(\n    customRules,\n    contextWithAvailableRules\n  );\n\n  Object.keys(availableModifiers).forEach(function (prop) {\n    Object.defineProperty(contextWithAllRules, prop, {\n      get: function () {\n        var newContext = proxylessContext(contextWithAllRules._clone());\n        return newContext._applyModifier(availableModifiers[prop], prop);\n      }\n    });\n  });\n\n  return contextWithAllRules;\n}\n\nvar availableModifiers = {\n  not: {\n    simple: function (fn) { return function (value) { return !fn(value); }; },\n    async: function (fn) { return function (value) { return Promise.resolve(fn(value))\n        .then(function (result) { return !result; })\n        .catch(function () { return true; }); }; },\n  },\n\n  some: {\n    simple: function (fn) { return function (value) {\n      return split(value).some(function (item) {\n        try {\n          return fn(item);\n        } catch (ex) {\n          return false;\n        }\n      });\n    }; },\n    async: function (fn) { return function (value) {\n      return Promise.all(\n        split(value).map(function (item) {\n          try {\n            return fn(item).catch(function () { return false; });\n          } catch (ex) {\n            return false;\n          }\n        })\n      ).then(function (result) { return result.some(Boolean); });\n    }; },\n  },\n\n  every: {\n    simple: function (fn) { return function (value) { return value !== false && split(value).every(fn); }; },\n    async: function (fn) { return function (value) { return Promise.all(split(value).map(fn)).then(function (result) { return result.every(Boolean); }); }; },\n  },\n};\n\nfunction split(value) {\n  if (typeof value === 'string') {\n    return value.split('');\n  }\n  return value;\n}\n\nvar availableRules = {\n  // Value\n\n  equal: function (expected) { return function (value) { return value == expected; }; },\n\n  exact: function (expected) { return function (value) { return value === expected; }; },\n\n  // Types\n\n  number: function (allowInfinite) {\n    if ( allowInfinite === void 0 ) allowInfinite = true;\n\n    return function (value) { return typeof value === 'number' && (allowInfinite || isFinite(value)); };\n},\n\n  integer: function () { return function (value) {\n    var isInteger = Number.isInteger || isIntegerPolyfill;\n    return isInteger(value);\n  }; },\n\n  numeric: function () { return function (value) { return !isNaN(parseFloat(value)) && isFinite(value); }; },\n\n  string: function () { return testType('string'); },\n\n  boolean: function () { return testType('boolean'); },\n\n  undefined: function () { return testType('undefined'); },\n\n  null: function () { return testType('null'); },\n\n  array: function () { return testType('array'); },\n\n  object: function () { return testType('object'); },\n\n  instanceOf: function (instance) { return function (value) { return value instanceof instance; }; },\n\n  // Pattern\n\n  pattern: function (expected) { return function (value) { return expected.test(value); }; },\n\n  lowercase: function () { return function (value) { return /^([a-z]+\\s*)+$/.test(value); }; },\n\n  uppercase: function () { return function (value) { return /^([A-Z]+\\s*)+$/.test(value); }; },\n\n  vowel: function () { return function (value) { return /^[aeiou]+$/i.test(value); }; },\n\n  consonant: function () { return function (value) { return /^(?=[^aeiou])([a-z]+)$/i.test(value); }; },\n\n  // Value at\n\n  first: function (expected) { return function (value) { return value[0] == expected; }; },\n\n  last: function (expected) { return function (value) { return value[value.length - 1] == expected; }; },\n\n  // Length\n\n  empty: function () { return function (value) { return value.length === 0; }; },\n\n  length: function (min, max) { return function (value) { return value.length >= min && value.length <= (max || min); }; },\n\n  minLength: function (min) { return function (value) { return value.length >= min; }; },\n\n  maxLength: function (max) { return function (value) { return value.length <= max; }; },\n\n  // Range\n\n  negative: function () { return function (value) { return value < 0; }; },\n\n  positive: function () { return function (value) { return value >= 0; }; },\n\n  between: function (a, b) { return function (value) { return value >= a && value <= b; }; },\n\n  range: function (a, b) { return function (value) { return value >= a && value <= b; }; },\n\n  lessThan: function (n) { return function (value) { return value < n; }; },\n\n  lessThanOrEqual: function (n) { return function (value) { return value <= n; }; },\n\n  greaterThan: function (n) { return function (value) { return value > n; }; },\n\n  greaterThanOrEqual: function (n) { return function (value) { return value >= n; }; },\n\n  // Divisible\n\n  even: function () { return function (value) { return value % 2 === 0; }; },\n\n  odd: function () { return function (value) { return value % 2 !== 0; }; },\n\n  includes: function (expected) { return function (value) { return ~value.indexOf(expected); }; },\n\n  schema: function (schema) { return testSchema(schema); },\n\n  // branching\n\n  passesAnyOf: function () {\n    var validations = [], len = arguments.length;\n    while ( len-- ) validations[ len ] = arguments[ len ];\n\n    return function (value) { return validations.some(function (validation) { return validation.test(value); }); };\n},\n\n  optional: function (validation, considerTrimmedEmptyString) {\n    if ( considerTrimmedEmptyString === void 0 ) considerTrimmedEmptyString = false;\n\n    return function (value) {\n    if (\n      considerTrimmedEmptyString &&\n      typeof value === 'string' &&\n      value.trim() === ''\n    ) {\n      return true;\n    }\n\n    if (value !== undefined && value !== null) { validation.check(value); }\n    return true;\n  };\n},\n};\n\nfunction testType(expected) {\n  return function (value) {\n    return (\n      (Array.isArray(value) && expected === 'array') ||\n      (value === null && expected === 'null') ||\n      typeof value === expected\n    );\n  };\n}\n\nfunction isIntegerPolyfill(value) {\n  return (\n    typeof value === 'number' && isFinite(value) && Math.floor(value) === value\n  );\n}\n\nfunction testSchema(schema) {\n  return {\n    simple: function (value) {\n      var causes = [];\n      Object.keys(schema).forEach(function (key) {\n        var nestedValidation = schema[key];\n        try {\n          nestedValidation.check((value || {})[key]);\n        } catch (ex) {\n          ex.target = key;\n          causes.push(ex);\n        }\n      });\n      if (causes.length > 0) {\n        throw causes;\n      }\n      return true;\n    },\n    async: function (value) {\n      var causes = [];\n      var nested = Object.keys(schema).map(function (key) {\n        var nestedValidation = schema[key];\n        return nestedValidation.testAsync((value || {})[key]).catch(function (ex) {\n          ex.target = key;\n          causes.push(ex);\n        });\n      });\n      return Promise.all(nested).then(function () {\n        if (causes.length > 0) {\n          throw causes;\n        }\n\n        return true;\n      });\n    },\n  };\n}\n\nexport default v8n;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}