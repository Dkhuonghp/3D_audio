{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar redux = function redux(reducer, initial) {\n  return function (set, get, api) {\n    api.dispatch = function (action) {\n      set(function (state) {\n        return reducer(state, action);\n      }, false, action);\n      return action;\n    };\n\n    api.dispatchFromDevtools = true;\n    return _extends({\n      dispatch: function dispatch() {\n        return api.dispatch.apply(api, arguments);\n      }\n    }, initial);\n  };\n};\n\nfunction devtools(fn, options) {\n  return function (set, get, api) {\n    var _serialize;\n\n    var didWarnAboutNameDeprecation = false;\n\n    if (typeof options === 'string' && !didWarnAboutNameDeprecation) {\n      console.warn('[zustand devtools middleware]: passing `name` as directly will be not allowed in next major' + 'pass the `name` in an object `{ name: ... }` instead');\n      didWarnAboutNameDeprecation = true;\n    }\n\n    var devtoolsOptions = options === undefined ? {\n      name: undefined,\n      anonymousActionType: undefined\n    } : typeof options === 'string' ? {\n      name: options\n    } : options;\n\n    if (typeof (devtoolsOptions == null ? void 0 : (_serialize = devtoolsOptions.serialize) == null ? void 0 : _serialize.options) !== 'undefined') {\n      console.warn('[zustand devtools middleware]: `serialize.options` is deprecated, just use `serialize`');\n    }\n\n    var extensionConnector;\n\n    try {\n      extensionConnector = window.__REDUX_DEVTOOLS_EXTENSION__ || window.top.__REDUX_DEVTOOLS_EXTENSION__;\n    } catch (_unused) {}\n\n    if (!extensionConnector) {\n      if (process.env.NODE_ENV !== \"production\" && typeof window !== 'undefined') {\n        console.warn('[zustand devtools middleware] Please install/enable Redux devtools extension');\n      }\n\n      return fn(set, get, api);\n    }\n\n    var extension = Object.create(extensionConnector.connect(devtoolsOptions));\n    var didWarnAboutDevtools = false;\n    Object.defineProperty(api, 'devtools', {\n      get: function get() {\n        if (!didWarnAboutDevtools) {\n          console.warn('[zustand devtools middleware] `devtools` property on the store is deprecated ' + 'it will be removed in the next major.\\n' + \"You shouldn't interact with the extension directly. But in case you still want to \" + 'you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly');\n          didWarnAboutDevtools = true;\n        }\n\n        return extension;\n      },\n      set: function set(value) {\n        if (!didWarnAboutDevtools) {\n          console.warn('[zustand devtools middleware] `api.devtools` is deprecated, ' + 'it will be removed in the next major.\\n' + \"You shouldn't interact with the extension directly. But in case you still want to \" + 'you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly');\n          didWarnAboutDevtools = true;\n        }\n\n        extension = value;\n      }\n    });\n    var didWarnAboutPrefix = false;\n    Object.defineProperty(extension, 'prefix', {\n      get: function get() {\n        if (!didWarnAboutPrefix) {\n          console.warn('[zustand devtools middleware] along with `api.devtools`, `api.devtools.prefix` is deprecated.\\n' + 'We no longer prefix the actions/names' + devtoolsOptions.name === undefined ? ', pass the `name` option to create a separate instance of devtools for each store.' : ', because the `name` option already creates a separate instance of devtools for each store.');\n          didWarnAboutPrefix = true;\n        }\n\n        return '';\n      },\n      set: function set() {\n        if (!didWarnAboutPrefix) {\n          console.warn('[zustand devtools middleware] along with `api.devtools`, `api.devtools.prefix` is deprecated.\\n' + 'We no longer prefix the actions/names' + devtoolsOptions.name === undefined ? ', pass the `name` option to create a separate instance of devtools for each store.' : ', because the `name` option already creates a separate instance of devtools for each store.');\n          didWarnAboutPrefix = true;\n        }\n      }\n    });\n    var isRecording = true;\n\n    api.setState = function (state, replace, nameOrAction) {\n      set(state, replace);\n      if (!isRecording) return;\n      extension.send(nameOrAction === undefined ? {\n        type: devtoolsOptions.anonymousActionType || 'anonymous'\n      } : typeof nameOrAction === 'string' ? {\n        type: nameOrAction\n      } : nameOrAction, get());\n    };\n\n    var setStateFromDevtools = function setStateFromDevtools() {\n      var originalIsRecording = isRecording;\n      isRecording = false;\n      set.apply(void 0, arguments);\n      isRecording = originalIsRecording;\n    };\n\n    var initialState = fn(api.setState, get, api);\n    extension.init(initialState);\n\n    if (api.dispatchFromDevtools && typeof api.dispatch === 'function') {\n      var didWarnAboutReservedActionType = false;\n      var originalDispatch = api.dispatch;\n\n      api.dispatch = function () {\n        for (var _len = arguments.length, a = new Array(_len), _key = 0; _key < _len; _key++) {\n          a[_key] = arguments[_key];\n        }\n\n        if (a[0].type === '__setState' && !didWarnAboutReservedActionType) {\n          console.warn('[zustand devtools middleware] \"__setState\" action type is reserved ' + 'to set state from the devtools. Avoid using it.');\n          didWarnAboutReservedActionType = true;\n        }\n\n        originalDispatch.apply(void 0, a);\n      };\n    }\n\n    extension.subscribe(function (message) {\n      switch (message.type) {\n        case 'ACTION':\n          if (typeof message.payload !== 'string') {\n            console.error('[zustand devtools middleware] Unsupported action format');\n            return;\n          }\n\n          return parseJsonThen(message.payload, function (action) {\n            if (action.type === '__setState') {\n              setStateFromDevtools(action.state);\n              return;\n            }\n\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== 'function') return;\n            api.dispatch(action);\n          });\n\n        case 'DISPATCH':\n          switch (message.payload.type) {\n            case 'RESET':\n              setStateFromDevtools(initialState);\n              return extension.init(api.getState());\n\n            case 'COMMIT':\n              return extension.init(api.getState());\n\n            case 'ROLLBACK':\n              return parseJsonThen(message.state, function (state) {\n                setStateFromDevtools(state);\n                extension.init(api.getState());\n              });\n\n            case 'JUMP_TO_STATE':\n            case 'JUMP_TO_ACTION':\n              return parseJsonThen(message.state, function (state) {\n                setStateFromDevtools(state);\n              });\n\n            case 'IMPORT_STATE':\n              {\n                var _nextLiftedState$comp;\n\n                var nextLiftedState = message.payload.nextLiftedState;\n                var lastComputedState = (_nextLiftedState$comp = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _nextLiftedState$comp.state;\n                if (!lastComputedState) return;\n                setStateFromDevtools(lastComputedState);\n                extension.send(null, nextLiftedState);\n                return;\n              }\n\n            case 'PAUSE_RECORDING':\n              return isRecording = !isRecording;\n          }\n\n          return;\n      }\n    });\n    return initialState;\n  };\n}\n\nvar parseJsonThen = function parseJsonThen(stringified, f) {\n  var parsed;\n\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error('[zustand devtools middleware] Could not parse the received json', e);\n  }\n\n  if (parsed !== undefined) f(parsed);\n};\n\nvar subscribeWithSelector = function subscribeWithSelector(fn) {\n  return function (set, get, api) {\n    var origSubscribe = api.subscribe;\n\n    api.subscribe = function (selector, optListener, options) {\n      var listener = selector;\n\n      if (optListener) {\n        var equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n        var currentSlice = selector(api.getState());\n\n        listener = function listener(state) {\n          var nextSlice = selector(state);\n\n          if (!equalityFn(currentSlice, nextSlice)) {\n            var previousSlice = currentSlice;\n            optListener(currentSlice = nextSlice, previousSlice);\n          }\n        };\n\n        if (options != null && options.fireImmediately) {\n          optListener(currentSlice, currentSlice);\n        }\n      }\n\n      return origSubscribe(listener);\n    };\n\n    var initialState = fn(set, get, api);\n    return initialState;\n  };\n};\n\nvar combine = function combine(initialState, create) {\n  return function (set, get, api) {\n    return Object.assign({}, initialState, create(set, get, api));\n  };\n};\n\nvar toThenable = function toThenable(fn) {\n  return function (input) {\n    try {\n      var result = fn(input);\n\n      if (result instanceof Promise) {\n        return result;\n      }\n\n      return {\n        then: function then(onFulfilled) {\n          return toThenable(onFulfilled)(result);\n        },\n        catch: function _catch(_onRejected) {\n          return this;\n        }\n      };\n    } catch (e) {\n      return {\n        then: function then(_onFulfilled) {\n          return this;\n        },\n        catch: function _catch(onRejected) {\n          return toThenable(onRejected)(e);\n        }\n      };\n    }\n  };\n};\n\nvar persist = function persist(config, baseOptions) {\n  return function (set, get, api) {\n    var options = _extends({\n      getStorage: function getStorage() {\n        return localStorage;\n      },\n      serialize: JSON.stringify,\n      deserialize: JSON.parse,\n      partialize: function partialize(state) {\n        return state;\n      },\n      version: 0,\n      merge: function merge(persistedState, currentState) {\n        return _extends({}, currentState, persistedState);\n      }\n    }, baseOptions);\n\n    if (options.blacklist || options.whitelist) {\n      console.warn(\"The \" + (options.blacklist ? 'blacklist' : 'whitelist') + \" option is deprecated and will be removed in the next version. Please use the 'partialize' option instead.\");\n    }\n\n    var _hasHydrated = false;\n    var hydrationListeners = new Set();\n    var finishHydrationListeners = new Set();\n    var storage;\n\n    try {\n      storage = options.getStorage();\n    } catch (e) {}\n\n    if (!storage) {\n      return config(function () {\n        console.warn(\"[zustand persist middleware] Unable to update item '\" + options.name + \"', the given storage is currently unavailable.\");\n        set.apply(void 0, arguments);\n      }, get, api);\n    } else if (!storage.removeItem) {\n      console.warn(\"[zustand persist middleware] The given storage for item '\" + options.name + \"' does not contain a 'removeItem' method, which will be required in v4.\");\n    }\n\n    var thenableSerialize = toThenable(options.serialize);\n\n    var setItem = function setItem() {\n      var state = options.partialize(_extends({}, get()));\n\n      if (options.whitelist) {\n        Object.keys(state).forEach(function (key) {\n          var _options$whitelist;\n\n          !((_options$whitelist = options.whitelist) != null && _options$whitelist.includes(key)) && delete state[key];\n        });\n      }\n\n      if (options.blacklist) {\n        options.blacklist.forEach(function (key) {\n          return delete state[key];\n        });\n      }\n\n      var errorInSync;\n      var thenable = thenableSerialize({\n        state: state,\n        version: options.version\n      }).then(function (serializedValue) {\n        return storage.setItem(options.name, serializedValue);\n      }).catch(function (e) {\n        errorInSync = e;\n      });\n\n      if (errorInSync) {\n        throw errorInSync;\n      }\n\n      return thenable;\n    };\n\n    var savedSetState = api.setState;\n\n    api.setState = function (state, replace) {\n      savedSetState(state, replace);\n      void setItem();\n    };\n\n    var configResult = config(function () {\n      set.apply(void 0, arguments);\n      void setItem();\n    }, get, api);\n    var stateFromStorage;\n\n    var hydrate = function hydrate() {\n      if (!storage) return;\n      _hasHydrated = false;\n      hydrationListeners.forEach(function (cb) {\n        return cb(get());\n      });\n      var postRehydrationCallback = (options.onRehydrateStorage == null ? void 0 : options.onRehydrateStorage(get())) || undefined;\n      return toThenable(storage.getItem.bind(storage))(options.name).then(function (storageValue) {\n        if (storageValue) {\n          return options.deserialize(storageValue);\n        }\n      }).then(function (deserializedStorageValue) {\n        if (deserializedStorageValue) {\n          if (typeof deserializedStorageValue.version === 'number' && deserializedStorageValue.version !== options.version) {\n            if (options.migrate) {\n              return options.migrate(deserializedStorageValue.state, deserializedStorageValue.version);\n            }\n\n            console.error(\"State loaded from storage couldn't be migrated since no migrate function was provided\");\n          } else {\n            return deserializedStorageValue.state;\n          }\n        }\n      }).then(function (migratedState) {\n        var _get;\n\n        stateFromStorage = options.merge(migratedState, (_get = get()) != null ? _get : configResult);\n        set(stateFromStorage, true);\n        return setItem();\n      }).then(function () {\n        postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, undefined);\n        _hasHydrated = true;\n        finishHydrationListeners.forEach(function (cb) {\n          return cb(stateFromStorage);\n        });\n      }).catch(function (e) {\n        postRehydrationCallback == null ? void 0 : postRehydrationCallback(undefined, e);\n      });\n    };\n\n    api.persist = {\n      setOptions: function setOptions(newOptions) {\n        options = _extends({}, options, newOptions);\n\n        if (newOptions.getStorage) {\n          storage = newOptions.getStorage();\n        }\n      },\n      clearStorage: function clearStorage() {\n        var _storage;\n\n        (_storage = storage) == null ? void 0 : _storage.removeItem == null ? void 0 : _storage.removeItem(options.name);\n      },\n      rehydrate: function rehydrate() {\n        return hydrate();\n      },\n      hasHydrated: function hasHydrated() {\n        return _hasHydrated;\n      },\n      onHydrate: function onHydrate(cb) {\n        hydrationListeners.add(cb);\n        return function () {\n          hydrationListeners.delete(cb);\n        };\n      },\n      onFinishHydration: function onFinishHydration(cb) {\n        finishHydrationListeners.add(cb);\n        return function () {\n          finishHydrationListeners.delete(cb);\n        };\n      }\n    };\n    hydrate();\n    return stateFromStorage || configResult;\n  };\n};\n\nexports.combine = combine;\nexports.devtools = devtools;\nexports.persist = persist;\nexports.redux = redux;\nexports.subscribeWithSelector = subscribeWithSelector;","map":{"version":3,"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","redux","reducer","initial","set","get","api","dispatch","action","state","dispatchFromDevtools","devtools","fn","options","_serialize","didWarnAboutNameDeprecation","console","warn","devtoolsOptions","undefined","name","anonymousActionType","serialize","extensionConnector","window","__REDUX_DEVTOOLS_EXTENSION__","top","_unused","process","env","NODE_ENV","extension","create","connect","didWarnAboutDevtools","didWarnAboutPrefix","isRecording","setState","replace","nameOrAction","send","type","setStateFromDevtools","originalIsRecording","initialState","init","didWarnAboutReservedActionType","originalDispatch","_len","a","Array","_key","subscribe","message","payload","error","parseJsonThen","getState","_nextLiftedState$comp","nextLiftedState","lastComputedState","computedStates","slice","stringified","f","parsed","JSON","parse","e","subscribeWithSelector","origSubscribe","selector","optListener","listener","equalityFn","is","currentSlice","nextSlice","previousSlice","fireImmediately","combine","toThenable","input","result","Promise","then","onFulfilled","catch","_catch","_onRejected","_onFulfilled","onRejected","persist","config","baseOptions","getStorage","localStorage","stringify","deserialize","partialize","version","merge","persistedState","currentState","blacklist","whitelist","_hasHydrated","hydrationListeners","Set","finishHydrationListeners","storage","removeItem","thenableSerialize","setItem","keys","forEach","_options$whitelist","includes","errorInSync","thenable","serializedValue","savedSetState","configResult","stateFromStorage","hydrate","cb","postRehydrationCallback","onRehydrateStorage","getItem","bind","storageValue","deserializedStorageValue","migrate","migratedState","_get","setOptions","newOptions","clearStorage","_storage","rehydrate","hasHydrated","onHydrate","add","delete","onFinishHydration"],"sources":["/Users/khuong/Desktop/ReactJS/r3f-audio-analyser-forked/node_modules/zustand/middleware.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar redux = function redux(reducer, initial) {\n  return function (set, get, api) {\n    api.dispatch = function (action) {\n      set(function (state) {\n        return reducer(state, action);\n      }, false, action);\n      return action;\n    };\n\n    api.dispatchFromDevtools = true;\n    return _extends({\n      dispatch: function dispatch() {\n        return api.dispatch.apply(api, arguments);\n      }\n    }, initial);\n  };\n};\n\nfunction devtools(fn, options) {\n  return function (set, get, api) {\n    var _serialize;\n\n    var didWarnAboutNameDeprecation = false;\n\n    if (typeof options === 'string' && !didWarnAboutNameDeprecation) {\n      console.warn('[zustand devtools middleware]: passing `name` as directly will be not allowed in next major' + 'pass the `name` in an object `{ name: ... }` instead');\n      didWarnAboutNameDeprecation = true;\n    }\n\n    var devtoolsOptions = options === undefined ? {\n      name: undefined,\n      anonymousActionType: undefined\n    } : typeof options === 'string' ? {\n      name: options\n    } : options;\n\n    if (typeof (devtoolsOptions == null ? void 0 : (_serialize = devtoolsOptions.serialize) == null ? void 0 : _serialize.options) !== 'undefined') {\n      console.warn('[zustand devtools middleware]: `serialize.options` is deprecated, just use `serialize`');\n    }\n\n    var extensionConnector;\n\n    try {\n      extensionConnector = window.__REDUX_DEVTOOLS_EXTENSION__ || window.top.__REDUX_DEVTOOLS_EXTENSION__;\n    } catch (_unused) {}\n\n    if (!extensionConnector) {\n      if (process.env.NODE_ENV !== \"production\" && typeof window !== 'undefined') {\n        console.warn('[zustand devtools middleware] Please install/enable Redux devtools extension');\n      }\n\n      return fn(set, get, api);\n    }\n\n    var extension = Object.create(extensionConnector.connect(devtoolsOptions));\n    var didWarnAboutDevtools = false;\n    Object.defineProperty(api, 'devtools', {\n      get: function get() {\n        if (!didWarnAboutDevtools) {\n          console.warn('[zustand devtools middleware] `devtools` property on the store is deprecated ' + 'it will be removed in the next major.\\n' + \"You shouldn't interact with the extension directly. But in case you still want to \" + 'you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly');\n          didWarnAboutDevtools = true;\n        }\n\n        return extension;\n      },\n      set: function set(value) {\n        if (!didWarnAboutDevtools) {\n          console.warn('[zustand devtools middleware] `api.devtools` is deprecated, ' + 'it will be removed in the next major.\\n' + \"You shouldn't interact with the extension directly. But in case you still want to \" + 'you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly');\n          didWarnAboutDevtools = true;\n        }\n\n        extension = value;\n      }\n    });\n    var didWarnAboutPrefix = false;\n    Object.defineProperty(extension, 'prefix', {\n      get: function get() {\n        if (!didWarnAboutPrefix) {\n          console.warn('[zustand devtools middleware] along with `api.devtools`, `api.devtools.prefix` is deprecated.\\n' + 'We no longer prefix the actions/names' + devtoolsOptions.name === undefined ? ', pass the `name` option to create a separate instance of devtools for each store.' : ', because the `name` option already creates a separate instance of devtools for each store.');\n          didWarnAboutPrefix = true;\n        }\n\n        return '';\n      },\n      set: function set() {\n        if (!didWarnAboutPrefix) {\n          console.warn('[zustand devtools middleware] along with `api.devtools`, `api.devtools.prefix` is deprecated.\\n' + 'We no longer prefix the actions/names' + devtoolsOptions.name === undefined ? ', pass the `name` option to create a separate instance of devtools for each store.' : ', because the `name` option already creates a separate instance of devtools for each store.');\n          didWarnAboutPrefix = true;\n        }\n      }\n    });\n    var isRecording = true;\n\n    api.setState = function (state, replace, nameOrAction) {\n      set(state, replace);\n      if (!isRecording) return;\n      extension.send(nameOrAction === undefined ? {\n        type: devtoolsOptions.anonymousActionType || 'anonymous'\n      } : typeof nameOrAction === 'string' ? {\n        type: nameOrAction\n      } : nameOrAction, get());\n    };\n\n    var setStateFromDevtools = function setStateFromDevtools() {\n      var originalIsRecording = isRecording;\n      isRecording = false;\n      set.apply(void 0, arguments);\n      isRecording = originalIsRecording;\n    };\n\n    var initialState = fn(api.setState, get, api);\n    extension.init(initialState);\n\n    if (api.dispatchFromDevtools && typeof api.dispatch === 'function') {\n      var didWarnAboutReservedActionType = false;\n      var originalDispatch = api.dispatch;\n\n      api.dispatch = function () {\n        for (var _len = arguments.length, a = new Array(_len), _key = 0; _key < _len; _key++) {\n          a[_key] = arguments[_key];\n        }\n\n        if (a[0].type === '__setState' && !didWarnAboutReservedActionType) {\n          console.warn('[zustand devtools middleware] \"__setState\" action type is reserved ' + 'to set state from the devtools. Avoid using it.');\n          didWarnAboutReservedActionType = true;\n        }\n        originalDispatch.apply(void 0, a);\n      };\n    }\n\n    extension.subscribe(function (message) {\n      switch (message.type) {\n        case 'ACTION':\n          if (typeof message.payload !== 'string') {\n            console.error('[zustand devtools middleware] Unsupported action format');\n            return;\n          }\n\n          return parseJsonThen(message.payload, function (action) {\n            if (action.type === '__setState') {\n              setStateFromDevtools(action.state);\n              return;\n            }\n\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== 'function') return;\n            api.dispatch(action);\n          });\n\n        case 'DISPATCH':\n          switch (message.payload.type) {\n            case 'RESET':\n              setStateFromDevtools(initialState);\n              return extension.init(api.getState());\n\n            case 'COMMIT':\n              return extension.init(api.getState());\n\n            case 'ROLLBACK':\n              return parseJsonThen(message.state, function (state) {\n                setStateFromDevtools(state);\n                extension.init(api.getState());\n              });\n\n            case 'JUMP_TO_STATE':\n            case 'JUMP_TO_ACTION':\n              return parseJsonThen(message.state, function (state) {\n                setStateFromDevtools(state);\n              });\n\n            case 'IMPORT_STATE':\n              {\n                var _nextLiftedState$comp;\n\n                var nextLiftedState = message.payload.nextLiftedState;\n                var lastComputedState = (_nextLiftedState$comp = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _nextLiftedState$comp.state;\n                if (!lastComputedState) return;\n                setStateFromDevtools(lastComputedState);\n                extension.send(null, nextLiftedState);\n                return;\n              }\n\n            case 'PAUSE_RECORDING':\n              return isRecording = !isRecording;\n          }\n\n          return;\n      }\n    });\n    return initialState;\n  };\n}\n\nvar parseJsonThen = function parseJsonThen(stringified, f) {\n  var parsed;\n\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error('[zustand devtools middleware] Could not parse the received json', e);\n  }\n\n  if (parsed !== undefined) f(parsed);\n};\n\nvar subscribeWithSelector = function subscribeWithSelector(fn) {\n  return function (set, get, api) {\n    var origSubscribe = api.subscribe;\n\n    api.subscribe = function (selector, optListener, options) {\n      var listener = selector;\n\n      if (optListener) {\n        var equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n        var currentSlice = selector(api.getState());\n\n        listener = function listener(state) {\n          var nextSlice = selector(state);\n\n          if (!equalityFn(currentSlice, nextSlice)) {\n            var previousSlice = currentSlice;\n            optListener(currentSlice = nextSlice, previousSlice);\n          }\n        };\n\n        if (options != null && options.fireImmediately) {\n          optListener(currentSlice, currentSlice);\n        }\n      }\n\n      return origSubscribe(listener);\n    };\n\n    var initialState = fn(set, get, api);\n    return initialState;\n  };\n};\n\nvar combine = function combine(initialState, create) {\n  return function (set, get, api) {\n    return Object.assign({}, initialState, create(set, get, api));\n  };\n};\n\nvar toThenable = function toThenable(fn) {\n  return function (input) {\n    try {\n      var result = fn(input);\n\n      if (result instanceof Promise) {\n        return result;\n      }\n\n      return {\n        then: function then(onFulfilled) {\n          return toThenable(onFulfilled)(result);\n        },\n        catch: function _catch(_onRejected) {\n          return this;\n        }\n      };\n    } catch (e) {\n      return {\n        then: function then(_onFulfilled) {\n          return this;\n        },\n        catch: function _catch(onRejected) {\n          return toThenable(onRejected)(e);\n        }\n      };\n    }\n  };\n};\n\nvar persist = function persist(config, baseOptions) {\n  return function (set, get, api) {\n    var options = _extends({\n      getStorage: function getStorage() {\n        return localStorage;\n      },\n      serialize: JSON.stringify,\n      deserialize: JSON.parse,\n      partialize: function partialize(state) {\n        return state;\n      },\n      version: 0,\n      merge: function merge(persistedState, currentState) {\n        return _extends({}, currentState, persistedState);\n      }\n    }, baseOptions);\n\n    if (options.blacklist || options.whitelist) {\n      console.warn(\"The \" + (options.blacklist ? 'blacklist' : 'whitelist') + \" option is deprecated and will be removed in the next version. Please use the 'partialize' option instead.\");\n    }\n\n    var _hasHydrated = false;\n    var hydrationListeners = new Set();\n    var finishHydrationListeners = new Set();\n    var storage;\n\n    try {\n      storage = options.getStorage();\n    } catch (e) {}\n\n    if (!storage) {\n      return config(function () {\n        console.warn(\"[zustand persist middleware] Unable to update item '\" + options.name + \"', the given storage is currently unavailable.\");\n        set.apply(void 0, arguments);\n      }, get, api);\n    } else if (!storage.removeItem) {\n      console.warn(\"[zustand persist middleware] The given storage for item '\" + options.name + \"' does not contain a 'removeItem' method, which will be required in v4.\");\n    }\n\n    var thenableSerialize = toThenable(options.serialize);\n\n    var setItem = function setItem() {\n      var state = options.partialize(_extends({}, get()));\n\n      if (options.whitelist) {\n        Object.keys(state).forEach(function (key) {\n          var _options$whitelist;\n\n          !((_options$whitelist = options.whitelist) != null && _options$whitelist.includes(key)) && delete state[key];\n        });\n      }\n\n      if (options.blacklist) {\n        options.blacklist.forEach(function (key) {\n          return delete state[key];\n        });\n      }\n\n      var errorInSync;\n      var thenable = thenableSerialize({\n        state: state,\n        version: options.version\n      }).then(function (serializedValue) {\n        return storage.setItem(options.name, serializedValue);\n      }).catch(function (e) {\n        errorInSync = e;\n      });\n\n      if (errorInSync) {\n        throw errorInSync;\n      }\n\n      return thenable;\n    };\n\n    var savedSetState = api.setState;\n\n    api.setState = function (state, replace) {\n      savedSetState(state, replace);\n      void setItem();\n    };\n\n    var configResult = config(function () {\n      set.apply(void 0, arguments);\n      void setItem();\n    }, get, api);\n    var stateFromStorage;\n\n    var hydrate = function hydrate() {\n      if (!storage) return;\n      _hasHydrated = false;\n      hydrationListeners.forEach(function (cb) {\n        return cb(get());\n      });\n      var postRehydrationCallback = (options.onRehydrateStorage == null ? void 0 : options.onRehydrateStorage(get())) || undefined;\n      return toThenable(storage.getItem.bind(storage))(options.name).then(function (storageValue) {\n        if (storageValue) {\n          return options.deserialize(storageValue);\n        }\n      }).then(function (deserializedStorageValue) {\n        if (deserializedStorageValue) {\n          if (typeof deserializedStorageValue.version === 'number' && deserializedStorageValue.version !== options.version) {\n            if (options.migrate) {\n              return options.migrate(deserializedStorageValue.state, deserializedStorageValue.version);\n            }\n\n            console.error(\"State loaded from storage couldn't be migrated since no migrate function was provided\");\n          } else {\n            return deserializedStorageValue.state;\n          }\n        }\n      }).then(function (migratedState) {\n        var _get;\n\n        stateFromStorage = options.merge(migratedState, (_get = get()) != null ? _get : configResult);\n        set(stateFromStorage, true);\n        return setItem();\n      }).then(function () {\n        postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, undefined);\n        _hasHydrated = true;\n        finishHydrationListeners.forEach(function (cb) {\n          return cb(stateFromStorage);\n        });\n      }).catch(function (e) {\n        postRehydrationCallback == null ? void 0 : postRehydrationCallback(undefined, e);\n      });\n    };\n\n    api.persist = {\n      setOptions: function setOptions(newOptions) {\n        options = _extends({}, options, newOptions);\n\n        if (newOptions.getStorage) {\n          storage = newOptions.getStorage();\n        }\n      },\n      clearStorage: function clearStorage() {\n        var _storage;\n\n        (_storage = storage) == null ? void 0 : _storage.removeItem == null ? void 0 : _storage.removeItem(options.name);\n      },\n      rehydrate: function rehydrate() {\n        return hydrate();\n      },\n      hasHydrated: function hasHydrated() {\n        return _hasHydrated;\n      },\n      onHydrate: function onHydrate(cb) {\n        hydrationListeners.add(cb);\n        return function () {\n          hydrationListeners.delete(cb);\n        };\n      },\n      onFinishHydration: function onFinishHydration(cb) {\n        finishHydrationListeners.add(cb);\n        return function () {\n          finishHydrationListeners.delete(cb);\n        };\n      }\n    };\n    hydrate();\n    return stateFromStorage || configResult;\n  };\n};\n\nexports.combine = combine;\nexports.devtools = devtools;\nexports.persist = persist;\nexports.redux = redux;\nexports.subscribeWithSelector = subscribeWithSelector;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}