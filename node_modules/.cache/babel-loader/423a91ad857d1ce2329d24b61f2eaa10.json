{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useThree, useFrame, context as context$1 } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\nconst context = /*#__PURE__*/React.createContext(null);\n\nfunction useScroll() {\n  return React.useContext(context);\n}\n\nfunction ScrollControls(_ref) {\n  let {\n    eps = 0.00001,\n    enabled = true,\n    infinite,\n    horizontal,\n    pages = 1,\n    distance = 1,\n    damping = 4,\n    style = {},\n    children\n  } = _ref;\n  const {\n    gl,\n    size,\n    invalidate,\n    events,\n    raycaster\n  } = useThree();\n  const [el] = React.useState(() => document.createElement('div'));\n  const [fill] = React.useState(() => document.createElement('div'));\n  const [fixed] = React.useState(() => document.createElement('div'));\n  const target = gl.domElement.parentNode;\n  const scroll = React.useRef(0);\n  const state = React.useMemo(() => {\n    const state = {\n      el,\n      eps,\n      fill,\n      fixed,\n      horizontal,\n      damping,\n      offset: 0,\n      delta: 0,\n      scroll,\n      pages,\n\n      // 0-1 for a range between from -> from + distance\n      range(from, distance) {\n        let margin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        const start = from - margin;\n        const end = start + distance + margin * 2;\n        return this.offset < start ? 0 : this.offset > end ? 1 : (this.offset - start) / (end - start);\n      },\n\n      // 0-1-0 for a range between from -> from + distance\n      curve(from, distance) {\n        let margin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        return Math.sin(this.range(from, distance, margin) * Math.PI);\n      },\n\n      // true/false for a range between from -> from + distance\n      visible(from, distance) {\n        let margin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        const start = from - margin;\n        const end = start + distance + margin * 2;\n        return this.offset >= start && this.offset <= end;\n      }\n\n    };\n    return state;\n  }, [eps, damping, horizontal, pages]);\n  React.useEffect(() => {\n    el.style.position = 'absolute';\n    el.style.width = '100%';\n    el.style.height = '100%';\n    el.style[horizontal ? 'overflowX' : 'overflowY'] = 'auto';\n    el.style[horizontal ? 'overflowY' : 'overflowX'] = 'hidden';\n    el.style.top = '0px';\n    el.style.left = '0px';\n\n    for (const key in style) {\n      el.style[key] = style[key];\n    }\n\n    fixed.style.position = 'sticky';\n    fixed.style.top = '0px';\n    fixed.style.left = '0px';\n    fixed.style.width = '100%';\n    fixed.style.height = '100%';\n    fixed.style.overflow = 'hidden';\n    el.appendChild(fixed);\n    fill.style.height = horizontal ? '100%' : `${pages * distance * 100}%`;\n    fill.style.width = horizontal ? `${pages * distance * 100}%` : '100%';\n    fill.style.pointerEvents = 'none';\n    el.appendChild(fill);\n    target.appendChild(el); // Init scroll one pixel in to allow upward/leftward scroll\n\n    el[horizontal ? 'scrollLeft' : 'scrollTop'] = 1;\n    const oldTarget = typeof events.connected !== 'boolean' ? events.connected : gl.domElement;\n    requestAnimationFrame(() => events.connect == null ? void 0 : events.connect(el));\n    const oldCompute = raycaster.computeOffsets;\n\n    raycaster.computeOffsets = _ref2 => {\n      let {\n        clientX,\n        clientY\n      } = _ref2;\n      return {\n        offsetX: clientX - target.offsetLeft,\n        offsetY: clientY - target.offsetTop\n      };\n    };\n\n    return () => {\n      target.removeChild(el);\n      raycaster.computeOffsets = oldCompute;\n      events.connect == null ? void 0 : events.connect(oldTarget);\n    };\n  }, [pages, distance, horizontal, el, fill, fixed, target]);\n  React.useEffect(() => {\n    const containerLength = size[horizontal ? 'width' : 'height'];\n    const scrollLength = el[horizontal ? 'scrollWidth' : 'scrollHeight'];\n    const scrollThreshold = scrollLength - containerLength;\n    let current = 0;\n    let disableScroll = true;\n    let firstRun = true;\n\n    const onScroll = () => {\n      // Prevent first scroll because it is indirectly caused by the one pixel offset\n      if (!enabled || firstRun) return;\n      invalidate();\n      current = el[horizontal ? 'scrollLeft' : 'scrollTop'];\n      scroll.current = current / scrollThreshold;\n\n      if (infinite) {\n        if (!disableScroll) {\n          if (current >= scrollThreshold) {\n            const damp = 1 - state.offset;\n            el[horizontal ? 'scrollLeft' : 'scrollTop'] = 1;\n            scroll.current = state.offset = -damp;\n            disableScroll = true;\n          } else if (current <= 0) {\n            const damp = 1 + state.offset;\n            el[horizontal ? 'scrollLeft' : 'scrollTop'] = scrollLength;\n            scroll.current = state.offset = damp;\n            disableScroll = true;\n          }\n        }\n\n        if (disableScroll) setTimeout(() => disableScroll = false, 40);\n      }\n    };\n\n    el.addEventListener('scroll', onScroll, {\n      passive: true\n    });\n    requestAnimationFrame(() => firstRun = false);\n\n    const onWheel = e => el.scrollLeft += e.deltaY / 2;\n\n    if (horizontal) el.addEventListener('wheel', onWheel, {\n      passive: true\n    });\n    return () => {\n      el.removeEventListener('scroll', onScroll);\n      if (horizontal) el.removeEventListener('wheel', onWheel);\n    };\n  }, [el, size, infinite, state, invalidate, horizontal]);\n  let last = 0;\n  useFrame((_, delta) => {\n    state.offset = THREE.MathUtils.damp(last = state.offset, scroll.current, damping, delta);\n    state.delta = THREE.MathUtils.damp(state.delta, Math.abs(last - state.offset), damping, delta);\n    if (state.delta > eps) invalidate();\n  });\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: state\n  }, children);\n}\n\nconst ScrollCanvas = /*#__PURE__*/React.forwardRef((_ref3, ref) => {\n  let {\n    children\n  } = _ref3;\n  const group = React.useRef(null);\n  const state = useScroll();\n  const {\n    width,\n    height\n  } = useThree(state => state.viewport);\n  useFrame(() => {\n    group.current.position.x = state.horizontal ? -width * (state.pages - 1) * state.offset : 0;\n    group.current.position.y = state.horizontal ? 0 : height * (state.pages - 1) * state.offset;\n  });\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: mergeRefs([ref, group])\n  }, children);\n});\nconst ScrollHtml = /*#__PURE__*/React.forwardRef((_ref4, ref) => {\n  let {\n    children,\n    style,\n    ...props\n  } = _ref4;\n  const state = useScroll();\n  const group = React.useRef(null);\n  const {\n    width,\n    height\n  } = useThree(state => state.size);\n  const fiberState = React.useContext(context$1);\n  useFrame(() => {\n    if (state.delta > state.eps) {\n      group.current.style.transform = `translate3d(${state.horizontal ? -width * (state.pages - 1) * state.offset : 0}px,${state.horizontal ? 0 : height * (state.pages - 1) * -state.offset}px,0)`;\n    }\n  });\n  ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: mergeRefs([ref, group]),\n    style: { ...style,\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      willChange: 'transform'\n    }\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(context$1.Provider, {\n    value: fiberState\n  }, children))), state.fixed);\n  return null;\n});\nconst Scroll = /*#__PURE__*/React.forwardRef((_ref5, ref) => {\n  let {\n    html,\n    ...props\n  } = _ref5;\n  const El = html ? ScrollHtml : ScrollCanvas;\n  return /*#__PURE__*/React.createElement(El, _extends({\n    ref: ref\n  }, props));\n});\nexport { Scroll, ScrollControls, useScroll };","map":{"version":3,"names":["_extends","THREE","React","ReactDOM","useThree","useFrame","context","context$1","mergeRefs","createContext","useScroll","useContext","ScrollControls","eps","enabled","infinite","horizontal","pages","distance","damping","style","children","gl","size","invalidate","events","raycaster","el","useState","document","createElement","fill","fixed","target","domElement","parentNode","scroll","useRef","state","useMemo","offset","delta","range","from","margin","start","end","curve","Math","sin","PI","visible","useEffect","position","width","height","top","left","key","overflow","appendChild","pointerEvents","oldTarget","connected","requestAnimationFrame","connect","oldCompute","computeOffsets","clientX","clientY","offsetX","offsetLeft","offsetY","offsetTop","removeChild","containerLength","scrollLength","scrollThreshold","current","disableScroll","firstRun","onScroll","damp","setTimeout","addEventListener","passive","onWheel","e","scrollLeft","deltaY","removeEventListener","last","_","MathUtils","abs","Provider","value","ScrollCanvas","forwardRef","ref","group","viewport","x","y","ScrollHtml","props","fiberState","transform","render","willChange","Scroll","html","El"],"sources":["/Users/khuong/Desktop/ReactJS/r3f-audio-analyser-forked/node_modules/@react-three/drei/web/ScrollControls.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useThree, useFrame, context as context$1 } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\n\nconst context = /*#__PURE__*/React.createContext(null);\nfunction useScroll() {\n  return React.useContext(context);\n}\nfunction ScrollControls({\n  eps = 0.00001,\n  enabled = true,\n  infinite,\n  horizontal,\n  pages = 1,\n  distance = 1,\n  damping = 4,\n  style = {},\n  children\n}) {\n  const {\n    gl,\n    size,\n    invalidate,\n    events,\n    raycaster\n  } = useThree();\n  const [el] = React.useState(() => document.createElement('div'));\n  const [fill] = React.useState(() => document.createElement('div'));\n  const [fixed] = React.useState(() => document.createElement('div'));\n  const target = gl.domElement.parentNode;\n  const scroll = React.useRef(0);\n  const state = React.useMemo(() => {\n    const state = {\n      el,\n      eps,\n      fill,\n      fixed,\n      horizontal,\n      damping,\n      offset: 0,\n      delta: 0,\n      scroll,\n      pages,\n\n      // 0-1 for a range between from -> from + distance\n      range(from, distance, margin = 0) {\n        const start = from - margin;\n        const end = start + distance + margin * 2;\n        return this.offset < start ? 0 : this.offset > end ? 1 : (this.offset - start) / (end - start);\n      },\n\n      // 0-1-0 for a range between from -> from + distance\n      curve(from, distance, margin = 0) {\n        return Math.sin(this.range(from, distance, margin) * Math.PI);\n      },\n\n      // true/false for a range between from -> from + distance\n      visible(from, distance, margin = 0) {\n        const start = from - margin;\n        const end = start + distance + margin * 2;\n        return this.offset >= start && this.offset <= end;\n      }\n\n    };\n    return state;\n  }, [eps, damping, horizontal, pages]);\n  React.useEffect(() => {\n    el.style.position = 'absolute';\n    el.style.width = '100%';\n    el.style.height = '100%';\n    el.style[horizontal ? 'overflowX' : 'overflowY'] = 'auto';\n    el.style[horizontal ? 'overflowY' : 'overflowX'] = 'hidden';\n    el.style.top = '0px';\n    el.style.left = '0px';\n\n    for (const key in style) {\n      el.style[key] = style[key];\n    }\n\n    fixed.style.position = 'sticky';\n    fixed.style.top = '0px';\n    fixed.style.left = '0px';\n    fixed.style.width = '100%';\n    fixed.style.height = '100%';\n    fixed.style.overflow = 'hidden';\n    el.appendChild(fixed);\n    fill.style.height = horizontal ? '100%' : `${pages * distance * 100}%`;\n    fill.style.width = horizontal ? `${pages * distance * 100}%` : '100%';\n    fill.style.pointerEvents = 'none';\n    el.appendChild(fill);\n    target.appendChild(el); // Init scroll one pixel in to allow upward/leftward scroll\n\n    el[horizontal ? 'scrollLeft' : 'scrollTop'] = 1;\n    const oldTarget = typeof events.connected !== 'boolean' ? events.connected : gl.domElement;\n    requestAnimationFrame(() => events.connect == null ? void 0 : events.connect(el));\n    const oldCompute = raycaster.computeOffsets;\n\n    raycaster.computeOffsets = ({\n      clientX,\n      clientY\n    }) => ({\n      offsetX: clientX - target.offsetLeft,\n      offsetY: clientY - target.offsetTop\n    });\n\n    return () => {\n      target.removeChild(el);\n      raycaster.computeOffsets = oldCompute;\n      events.connect == null ? void 0 : events.connect(oldTarget);\n    };\n  }, [pages, distance, horizontal, el, fill, fixed, target]);\n  React.useEffect(() => {\n    const containerLength = size[horizontal ? 'width' : 'height'];\n    const scrollLength = el[horizontal ? 'scrollWidth' : 'scrollHeight'];\n    const scrollThreshold = scrollLength - containerLength;\n    let current = 0;\n    let disableScroll = true;\n    let firstRun = true;\n\n    const onScroll = () => {\n      // Prevent first scroll because it is indirectly caused by the one pixel offset\n      if (!enabled || firstRun) return;\n      invalidate();\n      current = el[horizontal ? 'scrollLeft' : 'scrollTop'];\n      scroll.current = current / scrollThreshold;\n\n      if (infinite) {\n        if (!disableScroll) {\n          if (current >= scrollThreshold) {\n            const damp = 1 - state.offset;\n            el[horizontal ? 'scrollLeft' : 'scrollTop'] = 1;\n            scroll.current = state.offset = -damp;\n            disableScroll = true;\n          } else if (current <= 0) {\n            const damp = 1 + state.offset;\n            el[horizontal ? 'scrollLeft' : 'scrollTop'] = scrollLength;\n            scroll.current = state.offset = damp;\n            disableScroll = true;\n          }\n        }\n\n        if (disableScroll) setTimeout(() => disableScroll = false, 40);\n      }\n    };\n\n    el.addEventListener('scroll', onScroll, {\n      passive: true\n    });\n    requestAnimationFrame(() => firstRun = false);\n\n    const onWheel = e => el.scrollLeft += e.deltaY / 2;\n\n    if (horizontal) el.addEventListener('wheel', onWheel, {\n      passive: true\n    });\n    return () => {\n      el.removeEventListener('scroll', onScroll);\n      if (horizontal) el.removeEventListener('wheel', onWheel);\n    };\n  }, [el, size, infinite, state, invalidate, horizontal]);\n  let last = 0;\n  useFrame((_, delta) => {\n    state.offset = THREE.MathUtils.damp(last = state.offset, scroll.current, damping, delta);\n    state.delta = THREE.MathUtils.damp(state.delta, Math.abs(last - state.offset), damping, delta);\n    if (state.delta > eps) invalidate();\n  });\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: state\n  }, children);\n}\nconst ScrollCanvas = /*#__PURE__*/React.forwardRef(({\n  children\n}, ref) => {\n  const group = React.useRef(null);\n  const state = useScroll();\n  const {\n    width,\n    height\n  } = useThree(state => state.viewport);\n  useFrame(() => {\n    group.current.position.x = state.horizontal ? -width * (state.pages - 1) * state.offset : 0;\n    group.current.position.y = state.horizontal ? 0 : height * (state.pages - 1) * state.offset;\n  });\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: mergeRefs([ref, group])\n  }, children);\n});\nconst ScrollHtml = /*#__PURE__*/React.forwardRef(({\n  children,\n  style,\n  ...props\n}, ref) => {\n  const state = useScroll();\n  const group = React.useRef(null);\n  const {\n    width,\n    height\n  } = useThree(state => state.size);\n  const fiberState = React.useContext(context$1);\n  useFrame(() => {\n    if (state.delta > state.eps) {\n      group.current.style.transform = `translate3d(${state.horizontal ? -width * (state.pages - 1) * state.offset : 0}px,${state.horizontal ? 0 : height * (state.pages - 1) * -state.offset}px,0)`;\n    }\n  });\n  ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: mergeRefs([ref, group]),\n    style: { ...style,\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      willChange: 'transform'\n    }\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(context$1.Provider, {\n    value: fiberState\n  }, children))), state.fixed);\n  return null;\n});\nconst Scroll = /*#__PURE__*/React.forwardRef(({\n  html,\n  ...props\n}, ref) => {\n  const El = html ? ScrollHtml : ScrollCanvas;\n  return /*#__PURE__*/React.createElement(El, _extends({\n    ref: ref\n  }, props));\n});\n\nexport { Scroll, ScrollControls, useScroll };\n"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,QAAZ,MAA0B,WAA1B;AACA,SAASC,QAAT,EAAmBC,QAAnB,EAA6BC,OAAO,IAAIC,SAAxC,QAAyD,oBAAzD;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AAEA,MAAMF,OAAO,GAAG,aAAaJ,KAAK,CAACO,aAAN,CAAoB,IAApB,CAA7B;;AACA,SAASC,SAAT,GAAqB;EACnB,OAAOR,KAAK,CAACS,UAAN,CAAiBL,OAAjB,CAAP;AACD;;AACD,SAASM,cAAT,OAUG;EAAA,IAVqB;IACtBC,GAAG,GAAG,OADgB;IAEtBC,OAAO,GAAG,IAFY;IAGtBC,QAHsB;IAItBC,UAJsB;IAKtBC,KAAK,GAAG,CALc;IAMtBC,QAAQ,GAAG,CANW;IAOtBC,OAAO,GAAG,CAPY;IAQtBC,KAAK,GAAG,EARc;IAStBC;EATsB,CAUrB;EACD,MAAM;IACJC,EADI;IAEJC,IAFI;IAGJC,UAHI;IAIJC,MAJI;IAKJC;EALI,IAMFtB,QAAQ,EANZ;EAOA,MAAM,CAACuB,EAAD,IAAOzB,KAAK,CAAC0B,QAAN,CAAe,MAAMC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB,CAAb;EACA,MAAM,CAACC,IAAD,IAAS7B,KAAK,CAAC0B,QAAN,CAAe,MAAMC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB,CAAf;EACA,MAAM,CAACE,KAAD,IAAU9B,KAAK,CAAC0B,QAAN,CAAe,MAAMC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB,CAAhB;EACA,MAAMG,MAAM,GAAGX,EAAE,CAACY,UAAH,CAAcC,UAA7B;EACA,MAAMC,MAAM,GAAGlC,KAAK,CAACmC,MAAN,CAAa,CAAb,CAAf;EACA,MAAMC,KAAK,GAAGpC,KAAK,CAACqC,OAAN,CAAc,MAAM;IAChC,MAAMD,KAAK,GAAG;MACZX,EADY;MAEZd,GAFY;MAGZkB,IAHY;MAIZC,KAJY;MAKZhB,UALY;MAMZG,OANY;MAOZqB,MAAM,EAAE,CAPI;MAQZC,KAAK,EAAE,CARK;MASZL,MATY;MAUZnB,KAVY;;MAYZ;MACAyB,KAAK,CAACC,IAAD,EAAOzB,QAAP,EAA6B;QAAA,IAAZ0B,MAAY,uEAAH,CAAG;QAChC,MAAMC,KAAK,GAAGF,IAAI,GAAGC,MAArB;QACA,MAAME,GAAG,GAAGD,KAAK,GAAG3B,QAAR,GAAmB0B,MAAM,GAAG,CAAxC;QACA,OAAO,KAAKJ,MAAL,GAAcK,KAAd,GAAsB,CAAtB,GAA0B,KAAKL,MAAL,GAAcM,GAAd,GAAoB,CAApB,GAAwB,CAAC,KAAKN,MAAL,GAAcK,KAAf,KAAyBC,GAAG,GAAGD,KAA/B,CAAzD;MACD,CAjBW;;MAmBZ;MACAE,KAAK,CAACJ,IAAD,EAAOzB,QAAP,EAA6B;QAAA,IAAZ0B,MAAY,uEAAH,CAAG;QAChC,OAAOI,IAAI,CAACC,GAAL,CAAS,KAAKP,KAAL,CAAWC,IAAX,EAAiBzB,QAAjB,EAA2B0B,MAA3B,IAAqCI,IAAI,CAACE,EAAnD,CAAP;MACD,CAtBW;;MAwBZ;MACAC,OAAO,CAACR,IAAD,EAAOzB,QAAP,EAA6B;QAAA,IAAZ0B,MAAY,uEAAH,CAAG;QAClC,MAAMC,KAAK,GAAGF,IAAI,GAAGC,MAArB;QACA,MAAME,GAAG,GAAGD,KAAK,GAAG3B,QAAR,GAAmB0B,MAAM,GAAG,CAAxC;QACA,OAAO,KAAKJ,MAAL,IAAeK,KAAf,IAAwB,KAAKL,MAAL,IAAeM,GAA9C;MACD;;IA7BW,CAAd;IAgCA,OAAOR,KAAP;EACD,CAlCa,EAkCX,CAACzB,GAAD,EAAMM,OAAN,EAAeH,UAAf,EAA2BC,KAA3B,CAlCW,CAAd;EAmCAf,KAAK,CAACkD,SAAN,CAAgB,MAAM;IACpBzB,EAAE,CAACP,KAAH,CAASiC,QAAT,GAAoB,UAApB;IACA1B,EAAE,CAACP,KAAH,CAASkC,KAAT,GAAiB,MAAjB;IACA3B,EAAE,CAACP,KAAH,CAASmC,MAAT,GAAkB,MAAlB;IACA5B,EAAE,CAACP,KAAH,CAASJ,UAAU,GAAG,WAAH,GAAiB,WAApC,IAAmD,MAAnD;IACAW,EAAE,CAACP,KAAH,CAASJ,UAAU,GAAG,WAAH,GAAiB,WAApC,IAAmD,QAAnD;IACAW,EAAE,CAACP,KAAH,CAASoC,GAAT,GAAe,KAAf;IACA7B,EAAE,CAACP,KAAH,CAASqC,IAAT,GAAgB,KAAhB;;IAEA,KAAK,MAAMC,GAAX,IAAkBtC,KAAlB,EAAyB;MACvBO,EAAE,CAACP,KAAH,CAASsC,GAAT,IAAgBtC,KAAK,CAACsC,GAAD,CAArB;IACD;;IAED1B,KAAK,CAACZ,KAAN,CAAYiC,QAAZ,GAAuB,QAAvB;IACArB,KAAK,CAACZ,KAAN,CAAYoC,GAAZ,GAAkB,KAAlB;IACAxB,KAAK,CAACZ,KAAN,CAAYqC,IAAZ,GAAmB,KAAnB;IACAzB,KAAK,CAACZ,KAAN,CAAYkC,KAAZ,GAAoB,MAApB;IACAtB,KAAK,CAACZ,KAAN,CAAYmC,MAAZ,GAAqB,MAArB;IACAvB,KAAK,CAACZ,KAAN,CAAYuC,QAAZ,GAAuB,QAAvB;IACAhC,EAAE,CAACiC,WAAH,CAAe5B,KAAf;IACAD,IAAI,CAACX,KAAL,CAAWmC,MAAX,GAAoBvC,UAAU,GAAG,MAAH,GAAa,GAAEC,KAAK,GAAGC,QAAR,GAAmB,GAAI,GAApE;IACAa,IAAI,CAACX,KAAL,CAAWkC,KAAX,GAAmBtC,UAAU,GAAI,GAAEC,KAAK,GAAGC,QAAR,GAAmB,GAAI,GAA7B,GAAkC,MAA/D;IACAa,IAAI,CAACX,KAAL,CAAWyC,aAAX,GAA2B,MAA3B;IACAlC,EAAE,CAACiC,WAAH,CAAe7B,IAAf;IACAE,MAAM,CAAC2B,WAAP,CAAmBjC,EAAnB,EAxBoB,CAwBI;;IAExBA,EAAE,CAACX,UAAU,GAAG,YAAH,GAAkB,WAA7B,CAAF,GAA8C,CAA9C;IACA,MAAM8C,SAAS,GAAG,OAAOrC,MAAM,CAACsC,SAAd,KAA4B,SAA5B,GAAwCtC,MAAM,CAACsC,SAA/C,GAA2DzC,EAAE,CAACY,UAAhF;IACA8B,qBAAqB,CAAC,MAAMvC,MAAM,CAACwC,OAAP,IAAkB,IAAlB,GAAyB,KAAK,CAA9B,GAAkCxC,MAAM,CAACwC,OAAP,CAAetC,EAAf,CAAzC,CAArB;IACA,MAAMuC,UAAU,GAAGxC,SAAS,CAACyC,cAA7B;;IAEAzC,SAAS,CAACyC,cAAV,GAA2B;MAAA,IAAC;QAC1BC,OAD0B;QAE1BC;MAF0B,CAAD;MAAA,OAGpB;QACLC,OAAO,EAAEF,OAAO,GAAGnC,MAAM,CAACsC,UADrB;QAELC,OAAO,EAAEH,OAAO,GAAGpC,MAAM,CAACwC;MAFrB,CAHoB;IAAA,CAA3B;;IAQA,OAAO,MAAM;MACXxC,MAAM,CAACyC,WAAP,CAAmB/C,EAAnB;MACAD,SAAS,CAACyC,cAAV,GAA2BD,UAA3B;MACAzC,MAAM,CAACwC,OAAP,IAAkB,IAAlB,GAAyB,KAAK,CAA9B,GAAkCxC,MAAM,CAACwC,OAAP,CAAeH,SAAf,CAAlC;IACD,CAJD;EAKD,CA5CD,EA4CG,CAAC7C,KAAD,EAAQC,QAAR,EAAkBF,UAAlB,EAA8BW,EAA9B,EAAkCI,IAAlC,EAAwCC,KAAxC,EAA+CC,MAA/C,CA5CH;EA6CA/B,KAAK,CAACkD,SAAN,CAAgB,MAAM;IACpB,MAAMuB,eAAe,GAAGpD,IAAI,CAACP,UAAU,GAAG,OAAH,GAAa,QAAxB,CAA5B;IACA,MAAM4D,YAAY,GAAGjD,EAAE,CAACX,UAAU,GAAG,aAAH,GAAmB,cAA9B,CAAvB;IACA,MAAM6D,eAAe,GAAGD,YAAY,GAAGD,eAAvC;IACA,IAAIG,OAAO,GAAG,CAAd;IACA,IAAIC,aAAa,GAAG,IAApB;IACA,IAAIC,QAAQ,GAAG,IAAf;;IAEA,MAAMC,QAAQ,GAAG,MAAM;MACrB;MACA,IAAI,CAACnE,OAAD,IAAYkE,QAAhB,EAA0B;MAC1BxD,UAAU;MACVsD,OAAO,GAAGnD,EAAE,CAACX,UAAU,GAAG,YAAH,GAAkB,WAA7B,CAAZ;MACAoB,MAAM,CAAC0C,OAAP,GAAiBA,OAAO,GAAGD,eAA3B;;MAEA,IAAI9D,QAAJ,EAAc;QACZ,IAAI,CAACgE,aAAL,EAAoB;UAClB,IAAID,OAAO,IAAID,eAAf,EAAgC;YAC9B,MAAMK,IAAI,GAAG,IAAI5C,KAAK,CAACE,MAAvB;YACAb,EAAE,CAACX,UAAU,GAAG,YAAH,GAAkB,WAA7B,CAAF,GAA8C,CAA9C;YACAoB,MAAM,CAAC0C,OAAP,GAAiBxC,KAAK,CAACE,MAAN,GAAe,CAAC0C,IAAjC;YACAH,aAAa,GAAG,IAAhB;UACD,CALD,MAKO,IAAID,OAAO,IAAI,CAAf,EAAkB;YACvB,MAAMI,IAAI,GAAG,IAAI5C,KAAK,CAACE,MAAvB;YACAb,EAAE,CAACX,UAAU,GAAG,YAAH,GAAkB,WAA7B,CAAF,GAA8C4D,YAA9C;YACAxC,MAAM,CAAC0C,OAAP,GAAiBxC,KAAK,CAACE,MAAN,GAAe0C,IAAhC;YACAH,aAAa,GAAG,IAAhB;UACD;QACF;;QAED,IAAIA,aAAJ,EAAmBI,UAAU,CAAC,MAAMJ,aAAa,GAAG,KAAvB,EAA8B,EAA9B,CAAV;MACpB;IACF,CAxBD;;IA0BApD,EAAE,CAACyD,gBAAH,CAAoB,QAApB,EAA8BH,QAA9B,EAAwC;MACtCI,OAAO,EAAE;IAD6B,CAAxC;IAGArB,qBAAqB,CAAC,MAAMgB,QAAQ,GAAG,KAAlB,CAArB;;IAEA,MAAMM,OAAO,GAAGC,CAAC,IAAI5D,EAAE,CAAC6D,UAAH,IAAiBD,CAAC,CAACE,MAAF,GAAW,CAAjD;;IAEA,IAAIzE,UAAJ,EAAgBW,EAAE,CAACyD,gBAAH,CAAoB,OAApB,EAA6BE,OAA7B,EAAsC;MACpDD,OAAO,EAAE;IAD2C,CAAtC;IAGhB,OAAO,MAAM;MACX1D,EAAE,CAAC+D,mBAAH,CAAuB,QAAvB,EAAiCT,QAAjC;MACA,IAAIjE,UAAJ,EAAgBW,EAAE,CAAC+D,mBAAH,CAAuB,OAAvB,EAAgCJ,OAAhC;IACjB,CAHD;EAID,CAhDD,EAgDG,CAAC3D,EAAD,EAAKJ,IAAL,EAAWR,QAAX,EAAqBuB,KAArB,EAA4Bd,UAA5B,EAAwCR,UAAxC,CAhDH;EAiDA,IAAI2E,IAAI,GAAG,CAAX;EACAtF,QAAQ,CAAC,CAACuF,CAAD,EAAInD,KAAJ,KAAc;IACrBH,KAAK,CAACE,MAAN,GAAevC,KAAK,CAAC4F,SAAN,CAAgBX,IAAhB,CAAqBS,IAAI,GAAGrD,KAAK,CAACE,MAAlC,EAA0CJ,MAAM,CAAC0C,OAAjD,EAA0D3D,OAA1D,EAAmEsB,KAAnE,CAAf;IACAH,KAAK,CAACG,KAAN,GAAcxC,KAAK,CAAC4F,SAAN,CAAgBX,IAAhB,CAAqB5C,KAAK,CAACG,KAA3B,EAAkCO,IAAI,CAAC8C,GAAL,CAASH,IAAI,GAAGrD,KAAK,CAACE,MAAtB,CAAlC,EAAiErB,OAAjE,EAA0EsB,KAA1E,CAAd;IACA,IAAIH,KAAK,CAACG,KAAN,GAAc5B,GAAlB,EAAuBW,UAAU;EAClC,CAJO,CAAR;EAKA,OAAO,aAAatB,KAAK,CAAC4B,aAAN,CAAoBxB,OAAO,CAACyF,QAA5B,EAAsC;IACxDC,KAAK,EAAE1D;EADiD,CAAtC,EAEjBjB,QAFiB,CAApB;AAGD;;AACD,MAAM4E,YAAY,GAAG,aAAa/F,KAAK,CAACgG,UAAN,CAAiB,QAEhDC,GAFgD,KAExC;EAAA,IAFyC;IAClD9E;EADkD,CAEzC;EACT,MAAM+E,KAAK,GAAGlG,KAAK,CAACmC,MAAN,CAAa,IAAb,CAAd;EACA,MAAMC,KAAK,GAAG5B,SAAS,EAAvB;EACA,MAAM;IACJ4C,KADI;IAEJC;EAFI,IAGFnD,QAAQ,CAACkC,KAAK,IAAIA,KAAK,CAAC+D,QAAhB,CAHZ;EAIAhG,QAAQ,CAAC,MAAM;IACb+F,KAAK,CAACtB,OAAN,CAAczB,QAAd,CAAuBiD,CAAvB,GAA2BhE,KAAK,CAACtB,UAAN,GAAmB,CAACsC,KAAD,IAAUhB,KAAK,CAACrB,KAAN,GAAc,CAAxB,IAA6BqB,KAAK,CAACE,MAAtD,GAA+D,CAA1F;IACA4D,KAAK,CAACtB,OAAN,CAAczB,QAAd,CAAuBkD,CAAvB,GAA2BjE,KAAK,CAACtB,UAAN,GAAmB,CAAnB,GAAuBuC,MAAM,IAAIjB,KAAK,CAACrB,KAAN,GAAc,CAAlB,CAAN,GAA6BqB,KAAK,CAACE,MAArF;EACD,CAHO,CAAR;EAIA,OAAO,aAAatC,KAAK,CAAC4B,aAAN,CAAoB,OAApB,EAA6B;IAC/CqE,GAAG,EAAE3F,SAAS,CAAC,CAAC2F,GAAD,EAAMC,KAAN,CAAD;EADiC,CAA7B,EAEjB/E,QAFiB,CAApB;AAGD,CAhBiC,CAAlC;AAiBA,MAAMmF,UAAU,GAAG,aAAatG,KAAK,CAACgG,UAAN,CAAiB,QAI9CC,GAJ8C,KAItC;EAAA,IAJuC;IAChD9E,QADgD;IAEhDD,KAFgD;IAGhD,GAAGqF;EAH6C,CAIvC;EACT,MAAMnE,KAAK,GAAG5B,SAAS,EAAvB;EACA,MAAM0F,KAAK,GAAGlG,KAAK,CAACmC,MAAN,CAAa,IAAb,CAAd;EACA,MAAM;IACJiB,KADI;IAEJC;EAFI,IAGFnD,QAAQ,CAACkC,KAAK,IAAIA,KAAK,CAACf,IAAhB,CAHZ;EAIA,MAAMmF,UAAU,GAAGxG,KAAK,CAACS,UAAN,CAAiBJ,SAAjB,CAAnB;EACAF,QAAQ,CAAC,MAAM;IACb,IAAIiC,KAAK,CAACG,KAAN,GAAcH,KAAK,CAACzB,GAAxB,EAA6B;MAC3BuF,KAAK,CAACtB,OAAN,CAAc1D,KAAd,CAAoBuF,SAApB,GAAiC,eAAcrE,KAAK,CAACtB,UAAN,GAAmB,CAACsC,KAAD,IAAUhB,KAAK,CAACrB,KAAN,GAAc,CAAxB,IAA6BqB,KAAK,CAACE,MAAtD,GAA+D,CAAE,MAAKF,KAAK,CAACtB,UAAN,GAAmB,CAAnB,GAAuBuC,MAAM,IAAIjB,KAAK,CAACrB,KAAN,GAAc,CAAlB,CAAN,GAA6B,CAACqB,KAAK,CAACE,MAAO,OAAvL;IACD;EACF,CAJO,CAAR;EAKArC,QAAQ,CAACyG,MAAT,EAAiB,aAAa1G,KAAK,CAAC4B,aAAN,CAAoB,KAApB,EAA2B9B,QAAQ,CAAC;IAChEmG,GAAG,EAAE3F,SAAS,CAAC,CAAC2F,GAAD,EAAMC,KAAN,CAAD,CADkD;IAEhEhF,KAAK,EAAE,EAAE,GAAGA,KAAL;MACLiC,QAAQ,EAAE,UADL;MAELG,GAAG,EAAE,CAFA;MAGLC,IAAI,EAAE,CAHD;MAILoD,UAAU,EAAE;IAJP;EAFyD,CAAD,EAQ9DJ,KAR8D,CAAnC,EAQnB,aAAavG,KAAK,CAAC4B,aAAN,CAAoBxB,OAAO,CAACyF,QAA5B,EAAsC;IAC5DC,KAAK,EAAE1D;EADqD,CAAtC,EAErB,aAAapC,KAAK,CAAC4B,aAAN,CAAoBvB,SAAS,CAACwF,QAA9B,EAAwC;IACtDC,KAAK,EAAEU;EAD+C,CAAxC,EAEbrF,QAFa,CAFQ,CARM,CAA9B,EAYgBiB,KAAK,CAACN,KAZtB;EAaA,OAAO,IAAP;AACD,CA/B+B,CAAhC;AAgCA,MAAM8E,MAAM,GAAG,aAAa5G,KAAK,CAACgG,UAAN,CAAiB,QAG1CC,GAH0C,KAGlC;EAAA,IAHmC;IAC5CY,IAD4C;IAE5C,GAAGN;EAFyC,CAGnC;EACT,MAAMO,EAAE,GAAGD,IAAI,GAAGP,UAAH,GAAgBP,YAA/B;EACA,OAAO,aAAa/F,KAAK,CAAC4B,aAAN,CAAoBkF,EAApB,EAAwBhH,QAAQ,CAAC;IACnDmG,GAAG,EAAEA;EAD8C,CAAD,EAEjDM,KAFiD,CAAhC,CAApB;AAGD,CAR2B,CAA5B;AAUA,SAASK,MAAT,EAAiBlG,cAAjB,EAAiCF,SAAjC"},"metadata":{},"sourceType":"module"}